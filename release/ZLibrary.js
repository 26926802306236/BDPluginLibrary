var ZLibrary=function(e){var t={};function r(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,r),s.l=!0,s.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=4)}([function(e,t){e.exports=window.require("request")},function(e,t){e.exports=window.require("electron")},function(e,t){e.exports=window.require("path")},function(e,t){e.exports=window.require("fs")},function(e,t,r){"use strict";r.r(t);var n={};r.d(n,"CSS",function(){return xe}),r.d(n,"SettingField",function(){return ge}),r.d(n,"SettingGroup",function(){return me}),r.d(n,"SettingPanel",function(){return ye}),r.d(n,"Textbox",function(){return be}),r.d(n,"ColorPicker",function(){return Ce}),r.d(n,"FilePicker",function(){return Pe}),r.d(n,"Slider",function(){return Se}),r.d(n,"Switch",function(){return ve}),r.d(n,"Dropdown",function(){return we}),r.d(n,"Keybind",function(){return Ee}),r.d(n,"RadioGroup",function(){return Ie}),r.d(n,"ReactSetting",function(){return he});var s={};r.d(s,"Menu",function(){return Ae}),r.d(s,"ItemGroup",function(){return Be}),r.d(s,"MenuItem",function(){return je}),r.d(s,"TextItem",function(){return Ne}),r.d(s,"ImageItem",function(){return Te}),r.d(s,"SubMenuItem",function(){return Le}),r.d(s,"ToggleItem",function(){return Ue});var i={};r.d(i,"IconError",function(){return ke}),r.d(i,"IconInfo",function(){return Ge}),r.d(i,"IconSuccess",function(){return Re}),r.d(i,"IconWarning",function(){return De});var o={};r.d(o,"List",function(){return y}),r.d(o,"Screen",function(){return b}),r.d(o,"Selector",function(){return M}),r.d(o,"ClassName",function(){return C}),r.d(o,"InsufficientPermissions",function(){return S}),r.d(o,"Plugin",function(){return ze}),r.d(o,"User",function(){return ne}),r.d(o,"GuildMember",function(){return ie}),r.d(o,"Role",function(){return Y}),r.d(o,"Emoji",function(){return X}),r.d(o,"Guild",function(){return te}),r.d(o,"Channel",function(){return R}),r.d(o,"PermissionOverwrite",function(){return D}),r.d(o,"RolePermissionOverwrite",function(){return _}),r.d(o,"MemberPermissionOverwrite",function(){return H}),r.d(o,"GuildChannel",function(){return F}),r.d(o,"GuildTextChannel",function(){return W}),r.d(o,"GuildVoiceChannel",function(){return z}),r.d(o,"ChannelCategory",function(){return V}),r.d(o,"PrivateChannel",function(){return q}),r.d(o,"DirectMessageChannel",function(){return K}),r.d(o,"GroupChannel",function(){return Z}),r.d(o,"Reaction",function(){return w}),r.d(o,"Embed",function(){return I}),r.d(o,"Message",function(){return O}),r.d(o,"DefaultMessage",function(){return A}),r.d(o,"RecipientAddMessage",function(){return B}),r.d(o,"RecipientRemoveMessage",function(){return j}),r.d(o,"CallMessage",function(){return N}),r.d(o,"GroupChannelNameChangeMessage",function(){return T}),r.d(o,"GroupChannelIconChangeMessage",function(){return L}),r.d(o,"MessagePinnedMessage",function(){return U}),r.d(o,"GuildMemberJoinMessage",function(){return k}),r.d(o,"UserSettings",function(){return oe});var a={};r.d(a,"Utilities",function(){return l}),r.d(a,"WebpackModules",function(){return p}),r.d(a,"Filters",function(){return h}),r.d(a,"DiscordModules",function(){return g}),r.d(a,"ColorConverter",function(){return f}),r.d(a,"DOMTools",function(){return Ve}),r.d(a,"DiscordClasses",function(){return ue}),r.d(a,"DiscordSelectors",function(){return Oe}),r.d(a,"ReactTools",function(){return We}),r.d(a,"DiscordAPI",function(){return qe}),r.d(a,"Logger",function(){return d}),r.d(a,"Patcher",function(){return ce}),r.d(a,"PluginUpdater",function(){return $e}),r.d(a,"PluginUtilities",function(){return ae}),r.d(a,"DiscordClassModules",function(){return de}),r.d(a,"Structs",function(){return o});const c={err:"error",error:"error",dbg:"debug",debug:"debug",log:"log",warn:"warn",info:"info"};class d{static err(e,t,r){if(r)return console.error(`%c[${e}]%c ${t}\n\n%c`,"color: #3a71c1; font-weight: 700;","color: red; font-weight: 700;","color: red;",r);d.log(e,t,"error")}static warn(e,t){d.log(e,t,"warn")}static info(e,t){d.log(e,t,"info")}static debug(e,t){d.log(e,t,"debug")}static log(e,t,r="log"){r=d.parseType(r),console[r](`%c[${e}]%c`,"color: #3a71c1; font-weight: 700;","",t)}static parseType(e){return c.hasOwnProperty(e)?c[e]:"log"}}const u=r(3);class l{static stableSort(e,t){var r,n=e.length,s=Array(n);for(r=0;r<n;r++)s[r]=[r,e[r]];for(s.sort(function(e,t){return Number(this(e[1],t[1]))||e[0]-t[0]}.bind(t)),r=0;r<n;r++)e[r]=s[r][1]}static memoizeObject(e){const t=new Proxy(e,{get:function(e,t){if(e.hasOwnProperty(t)){if(Object.getOwnPropertyDescriptor(e,t).get){let r=e[t];delete e[t],e[t]=r}return e[t]}},set:function(e,t,r){return e.hasOwnProperty(t)?d.err("MemoizedObject","Trying to overwrite existing property"):(e[t]=r,e[t])}});return Object.defineProperty(t,"hasOwnProperty",{value:function(e){return void 0!==this[e]}}),t}static suppressErrors(e,t){return(...r)=>{try{return e(...r)}catch(e){d.err("Suppression","Error occurred in "+t,e)}}}static isNil(e){return null==e}static formatTString(e,t){for(let r in t)e=e.replace(new RegExp(`\\$\\{${r}\\}`,"g"),t[r]);return e}static formatString(e,t){for(let r in t)e=e.replace(new RegExp(`{{${r}}}`,"g"),t[r]);return e}static className(){for(var e=[],t={}.hasOwnProperty,r=0;r<arguments.length;r++){var n=arguments[r];if(n){var s=typeof n;if("string"===s||"number"===s)e.push(n);else if(Array.isArray(n)&&n.length){var i=this.classNames.apply(null,n);i&&e.push(i)}else if("object"===s)for(var o in n)t.call(n,o)&&n[o]&&e.push(o)}}return e.join(" ")}static addToPrototype(e,t,r){if(e.prototype&&!e.prototype[t])return e.prototype[t]=r}static extend(e,...t){for(let r=0;r<t.length;r++)for(let n in t[r])t[r].hasOwnProperty(n)&&("object"==typeof e[n]&&"object"==typeof t[r][n]?this.extend(e[n],t[r][n]):"object"==typeof t[r][n]?(e[n]={},this.extend(e[n],t[r][n])):e[n]=t[r][n]);return e}static deepclone(e){if("object"==typeof e){if(e instanceof Array)return e.map(e=>this.deepclone(e));const t=Object.assign({},e);for(let e in t)t[e]=this.deepclone(t[e]);return t}return e}static deepfreeze(e,t){if(!t||!t(e)){if("object"==typeof e&&null!==e){const r=Object.getOwnPropertyNames(e);for(let n of r)this.deepfreeze(e[n],t);Object.freeze(e)}return e}}static removeFromArray(e,t){let r;for(;(r=e.indexOf(t))>-1;)e.splice(r,1);return e}static async fileExists(e){return new Promise((t,r)=>{u.stat(e,(n,s)=>n?r({message:`No such file or directory: ${n.path}`,err:n}):s.isFile()?void t():r({message:`Not a file: ${e}`,stats:s}))})}static async readFile(e){try{await this.fileExists(e)}catch(e){throw e}return new Promise((t,r)=>{u.readFile(e,"utf-8",(n,s)=>{if(n)return r({message:`Could not read file: ${e}`,err:n});t(s)})})}}var g=l.memoizeObject({get React(){return p.getByProps("createElement","cloneElement")},get ReactDOM(){return p.getByProps("render","findDOMNode")},get Events(){return p.getByPrototypes("setMaxListeners","emit")},get GuildStore(){return p.getByProps("getGuild")},get SortedGuildStore(){return p.getByProps("getSortedGuilds")},get SelectedGuildStore(){return p.getByProps("getLastSelectedGuildId")},get GuildSync(){return p.getByProps("getSyncedGuilds")},get GuildInfo(){return p.getByProps("getAcronym")},get GuildChannelsStore(){return p.getByProps("getChannels","getDefaultChannel")},get GuildMemberStore(){return p.getByProps("getMember")},get MemberCountStore(){return p.getByProps("getMemberCounts")},get GuildEmojiStore(){return p.getByProps("getEmojis")},get GuildActions(){return p.getByProps("markGuildAsRead")},get GuildPermissions(){return p.getByProps("getGuildPermissions")},get ChannelStore(){return p.getByProps("getChannels","getDMFromUserId")},get SelectedChannelStore(){return p.getByProps("getLastSelectedChannelId")},get ChannelActions(){return p.getByProps("selectChannel")},get PrivateChannelActions(){return p.getByProps("openPrivateChannel")},get ChannelSelector(){return p.getByProps("selectGuild","selectChannel")},get UserInfoStore(){return p.getByProps("getToken")},get UserSettingsStore(){return p.getByProps("guildPositions")},get AccountManager(){return p.getByProps("register","login")},get UserSettingsUpdater(){return p.getByProps("updateRemoteSettings")},get OnlineWatcher(){return p.getByProps("isOnline")},get CurrentUserIdle(){return p.getByProps("getIdleTime")},get RelationshipStore(){return p.getByProps("isBlocked","getFriendIDs")},get RelationshipManager(){return p.getByProps("addRelationship")},get MentionStore(){return p.getByProps("getMentions")},get UserStore(){return p.getByProps("getCurrentUser")},get UserStatusStore(){return p.getByProps("getStatuses")},get UserTypingStore(){return p.getByProps("isTyping")},get UserActivityStore(){return p.getByProps("getActivity")},get UserNameResolver(){return p.getByProps("getName")},get UserNoteStore(){return p.getByProps(["getNote"])},get UserNoteActions(){return p.getByProps(["updateNote"])},get EmojiInfo(){return p.getByProps("isEmojiDisabled")},get EmojiUtils(){return p.getByProps("getGuildEmoji")},get EmojiStore(){return p.getByProps("getByCategory","EMOJI_NAME_RE")},get InviteStore(){return p.getByProps("getInvites")},get InviteResolver(){return p.getByProps("findInvite")},get InviteActions(){return p.getByProps("acceptInvite")},get DiscordConstants(){return p.getByProps("Permissions","ActivityTypes","StatusTypes")},get Permissions(){return p.getByProps("getHighestRole")},get ColorConverter(){return p.getByProps("hex2int")},get ColorShader(){return p.getByProps("darken")},get ClassResolver(){return p.getByProps("getClass")},get ButtonData(){return p.getByProps("ButtonSizes")},get IconNames(){return p.getByProps("IconNames")},get NavigationUtils(){return p.getByProps("transitionTo","replaceWith","getHistory")},get MessageStore(){return p.getByProps("getMessages")},get MessageActions(){return p.getByProps("jumpToMessage","_sendMessage")},get MessageQueue(){return p.getByProps("enqueue")},get MessageParser(){return p.getByProps("createMessage","parse","unparse")},get OverlayUserPopoutSettings(){return p.getByProps("openUserPopout")},get OverlayUserPopoutInfo(){return p.getByProps("getOpenedUserPopout")},get ExperimentStore(){return p.getByProps("getExperimentOverrides")},get ExperimentsManager(){return p.getByProps("isDeveloper")},get CurrentExperiment(){return p.getByProps("getExperimentId")},get ImageResolver(){return p.getByProps("getUserAvatarURL")},get ImageUtils(){return p.getByProps("getSizedImageSrc")},get AvatarDefaults(){return p.getByProps("getUserAvatarURL","DEFAULT_AVATARS")},get DNDActions(){return p.getByProps("beginDrag")},get DNDSources(){return p.getByProps("addTarget")},get DNDObjects(){return p.getByProps("DragSource")},get ElectronModule(){return p.getByProps("setBadge")},get Dispatcher(){return p.getByProps("dirtyDispatch")},get PathUtils(){return p.getByProps("hasBasename")},get NotificationModule(){return p.getByProps("showNotification")},get RouterModule(){return p.getByProps("Router")},get APIModule(){return p.getByProps("getAPIBaseURL")},get AnalyticEvents(){return p.getByProps("AnalyticEventConfigs")},get KeyGenerator(){return p.getByRegex(/"binary"/)},get Buffers(){return p.getByProps("Buffer","kMaxLength")},get DeviceStore(){return p.getByProps("getDevices")},get SoftwareInfo(){return p.getByProps("os")},get CurrentContext(){return p.getByProps("setTagsContext")},get MediaDeviceInfo(){return p.getByProps("Codecs","SUPPORTED_BROWSERS")},get MediaInfo(){return p.getByProps("getOutputVolume")},get MediaEngineInfo(){return p.getByProps("MediaEngineFeatures")},get VoiceInfo(){return p.getByProps("EchoCancellation")},get VideoStream(){return p.getByProps("getVideoStream")},get SoundModule(){return p.getByProps("playSound")},get WindowInfo(){return p.getByProps("isFocused","windowSize")},get TagInfo(){return p.getByProps("VALID_TAG_NAMES")},get DOMInfo(){return p.getByProps("canUseDOM")},get LocaleManager(){return p.getByProps("setLocale")},get Moment(){return p.getByProps("parseZone")},get LocationManager(){return p.getByProps("createLocation")},get Timestamps(){return p.getByProps("fromTimestamp")},get Strings(){return p.getByProps("Messages").Messages},get StringFormats(){return p.getByProps("a","z")},get StringUtils(){return p.getByProps("toASCII")},get URLParser(){return p.getByProps("Url","parse")},get ExtraURLs(){return p.getByProps("getArticleURL")},get hljs(){return p.getByProps(["highlight","highlightBlock"])},get SimpleMarkdown(){return p.getByProps(["parseBlock","parseInline","defaultOutput"])},get LayerManager(){return p.getByProps("popLayer","pushLayer")},get Tooltips(){return p.find(e=>e.hide&&e.show&&!e.search&&!e.submit&&!e.search&&!e.activateRagingDemon&&!e.dismiss)},get UserSettingsWindow(){return p.getByProps(["open","updateAccount"])},get ChannelSettingsWindow(){return p.getByProps(["open","updateChannel"])},get GuildSettingsWindow(){return p.getByProps(["open","updateGuild"])},get ModalStack(){return p.getByProps("push","update","pop","popWithKey")},get UserProfileModals(){return p.getByProps("fetchMutualFriends","setSection")},get AlertModal(){return p.getByPrototypes("handleCancel","handleSubmit","handleMinorConfirm")},get ConfirmationModal(){return p.getModule(e=>e.defaultProps&&e.key&&"confirm-modal"==e.key())},get UserProfileModal(){return p.find(e=>{try{return e.modalConfig&&"FluxContainer(SubscribeGuildMembersContainer(t))"==e.prototype.render().type.displayName}catch(e){return!1}})||p.find(e=>{try{return e.modalConfig&&"FluxContainer(Component)"==e.prototype.render().type.displayName}catch(e){return!1}})},get ChangeNicknameModal(){return p.getByProps(["open","changeNickname"])},get CreateChannelModal(){return p.getByProps(["open","createChannel"])},get PruneMembersModal(){return p.getByProps(["open","prune"])},get NotificationSettingsModal(){return p.getByProps(["open","updateNotificationSettings"])},get PrivacySettingsModal(){return p.getByRegex(/PRIVACY_SETTINGS_MODAL_OPEN/,e=>e.open)},get CreateInviteModal(){return p.getByProps(["open","createInvite"])},get Changelog(){return p.getModule(e=>e.defaultProps&&0==e.defaultProps.selectable)},get Avatar(){return p.find(e=>{if("FluxContainer(t)"!=e.displayName)return!1;try{const t=new e;return t&&t.state&&t.state.hasOwnProperty("isFocused")}catch(e){return!1}})},get PopoutStack(){return p.getByProps("open","close","closeAll")},get PopoutOpener(){return p.getByProps("openPopout")},get EmojiPicker(){return p.getByPrototypes("onHoverEmoji","selectEmoji")},get UserPopout(){return p.getByDisplayName("FluxContainer(SubscribeGuildMembersContainer(t))")||p.find(e=>{try{return"FluxContainer(Component)"==e.displayName&&!new e}catch(e){return e.toString().includes("user")}})},get ContextMenuActions(){return p.getByRegex(/CONTEXT_MENU_CLOSE/,e=>e.close)},get ContextMenuItemsGroup(){return p.getByRegex(/itemGroup/)},get ContextMenuItem(){return p.getByRegex(/\.label\b.*\.hint\b.*\.action\b/)},get ExternalLink(){return p.getByRegex(/\.trusted\b/)},get TextElement(){return p.getByProps("Sizes","Weights")},get FlexChild(){return p.getByProps("Child")},get Titles(){return p.getByProps("Tags","default")},get SettingsWrapper(){return p.getModule(e=>e.prototype&&e.prototype.render&&e.prototype.render.toString().includes("required:"))},get SettingsNote(){return p.getModule(e=>e.Types&&e.defaultProps)},get SettingsDivider(){return p.getModule(e=>!e.defaultProps&&e.prototype&&e.prototype.render&&e.prototype.render.toString().includes("default.divider"))},get ColorPicker(){return p.getByPrototypes("renderCustomColorPopout")},get Dropdown(){return p.getModule(e=>e.prototype&&!e.prototype.handleClick&&e.prototype.render&&e.prototype.render.toString().includes("default.select"))},get Keybind(){return p.getByPrototypes("handleComboChange")},get RadioGroup(){return p.getModule(e=>e.defaultProps&&e.defaultProps.options)},get Slider(){return p.getByPrototypes("renderMark")},get SwitchRow(){return p.getModule(e=>e.defaultProps&&0==e.defaultProps.hideBorder)},get Textbox(){return p.getModule(e=>e.defaultProps&&"text"==e.defaultProps.type)}});class h{static byProperties(e,t=(e=>e)){return r=>{const n=t(r);return!!n&&e.every(e=>void 0!==n[e])}}static byPrototypeFields(e,t=(e=>e)){return r=>{const n=t(r);return!!n&&(!!n.prototype&&e.every(e=>void 0!==n.prototype[e]))}}static byCode(e,t=(e=>e)){return r=>{const n=t(r);return!!n&&-1!==n.toString().search(e)}}static byDisplayName(e){return t=>t&&t.displayName===e}static combine(...e){return t=>e.every(e=>e(t))}}class p{static find(e,t=!0){return this.getModule(e,t)}static findByUniqueProperties(e,t=!0){return t?this.getByProps(...e):this.getAllByProps(...e)}static findByDisplayName(e){return this.getByDisplayName(e)}static getModule(e,t=!0){const r=this.getAllModules(),n=[];for(let s in r){if(!r.hasOwnProperty(s))continue;const i=r[s],{exports:o}=i;let a=null;if(o&&(o.__esModule&&o.default&&e(o.default)&&(a=o.default),e(o)&&(a=o),a)){if(t)return a;n.push(a)}}return t||0==n.length?void 0:n}static getModuleByName(e,t){if(g.hasOwnProperty(e))return g[e];if(!t)return;const r=this.getModule(t,!0);return r?g[e]=r:void 0}static getByDisplayName(e){return this.getModule(h.byDisplayName(e),!0)}static getByRegex(e,t=!0){return this.getModule(h.byCode(e),t)}static getByPrototypes(...e){return this.getModule(h.byPrototypeFields(e),!0)}static getAllByPrototypes(...e){return this.getModule(h.byPrototypeFields(e),!1)}static getByProps(...e){return this.getModule(h.byProperties(e),!0)}static getAllByProps(...e){return this.getModule(h.byProperties(e),!1)}static get require(){if(this._require)return this._require;const e="zl-webpackmodules",t="function"==typeof window.webpackJsonp?window.webpackJsonp([],{[e]:(e,t,r)=>t.default=r},[e]).default:window.webpackJsonp.push([[],{[e]:(e,t,r)=>e.exports=r},[[e]]]);return delete t.m[e],delete t.c[e],this._require=t}static getAllModules(){return this.require.c}}const m=p.getByProps("getDarkness","isValidHex");class f{static getDarkness(e){return m.getDarkness(e)}static hex2int(e){return m.hex2int(e)}static hex2rgb(e){return m.hex2rgb(e)}static int2hex(e){return m.int2hex(e)}static int2rgba(e,t){return m.int2rgba(e,t)}static isValidHex(e){return m.isValidHex(e)}static getRGB(e){var t=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(e);return t?[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]:(t=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)%\s*,\s*([0-9]+(?:\.[0-9]+)?)%\s*,\s*([0-9]+(?:\.[0-9]+)?)%\s*\)/.exec(e))?[2.55*parseFloat(t[1]),2.55*parseFloat(t[2]),2.55*parseFloat(t[3])]:(t=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(e))?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:(t=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(e))?[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]:void 0}static darkenColor(e,t){for(var r=this.getRGB(e),n=0;n<r.length;n++)r[n]=Math.round(Math.max(0,r[n]-r[n]*(t/100)));return"rgb("+r[0]+","+r[1]+","+r[2]+")"}static lightenColor(e,t){for(var r=this.getRGB(e),n=0;n<r.length;n++)r[n]=Math.round(Math.min(255,r[n]+r[n]*(t/100)));return"rgb("+r[0]+","+r[1]+","+r[2]+")"}static rgbToAlpha(e,t){var r=this.getRGB(e);return"rgba("+r[0]+","+r[1]+","+r[2]+","+t+")"}}var y=class extends Array{constructor(){super(...arguments)}get(...e){return this.find(t=>{for(let r of e)for(let e in r)if(r.hasOwnProperty(e)&&t[e]!==r[e])return!1;return!0})}};var b=class{static get width(){return Math.max(document.documentElement.clientWidth,window.innerWidth||0)}static get height(){return Math.max(document.documentElement.clientHeight,window.innerHeight||0)}};var M=class{constructor(e){this.value=" ."+e.split(" ").join(".")}toString(){return this.value}valueOf(){return this.value}selector(e,t){return this.value=`${this.toString()} ${e} ${t.toString()}`,this}child(e){return this.selector(">",e)}adjacent(e){return this.selector("+",e)}sibling(e){return this.selector("~",e)}descend(e){return this.selector(" ",e)}and(e){return this.selector(",",e)}};var C=class{constructor(e){this.value=e}add(...e){for(var t=0;t<e.length;t++)this.value+=" "+e[t];return this}toString(){return this.value}valueOf(){return this.value}get selector(){return new M(this.value)}};class P extends Error{constructor(e){super(e),this.name="PermissionsError"}}class S extends P{constructor(e){super(`Missing Permission — ${e}`),this.name="InsufficientPermissions"}}const v=new WeakMap;class w{constructor(e,t,r){if(v.has(e))return v.get(e);v.set(e,this),this.discordObject=e,this.messageId=t,this.channelId=r}get emoji(){const e=this.discordObject.emoji.id;return e&&this.guild?this.guild.emojis.find(t=>t.id===e):this.discordObject.emoji}get count(){return this.discordObject.count}get me(){return this.discordObject.me}get channel(){return R.fromId(this.channel_id)}get message(){if(this.channel)return this.channel.messages.find(e=>e.id===this.messageId)}get guild(){if(this.channel)return this.channel.guild}}const E=new WeakMap;class I{constructor(e,t,r){if(E.has(e))return E.get(e);E.set(e,this),this.discordObject=e,this.messageId=t,this.channelId=r}get title(){return this.discordObject.title}get type(){return this.discordObject.type}get description(){return this.discordObject.description}get url(){return this.discordObject.url}get timestamp(){return this.discordObject.timestamp}get colour(){return this.discordObject.color}get footer(){return this.discordObject.footer}get image(){return this.discordObject.image}get thumbnail(){return this.discordObject.thumbnail}get video(){return this.discordObject.video}get provider(){return this.discordObject.provider}get author(){return this.discordObject.author}get fields(){return this.discordObject.fields}get channel(){return R.fromId(this.channelId)}get message(){if(this.channel)return this.channel.messages.find(e=>e.id===this.messageId)}get guild(){if(this.channel)return this.channel.guild}}const x=new WeakMap;class O{constructor(e){if(x.has(e))return x.get(e);x.set(e,this),this.discordObject=e}static from(e){switch(e.type){default:return new O(e);case 0:return new A(e);case 1:return new B(e);case 2:return new j(e);case 3:return new N(e);case 4:return new T(e);case 5:return new L(e);case 6:return new U(e);case 7:return new k(e)}}static get DefaultMessage(){return A}static get RecipientAddMessage(){return B}static get RecipientRemoveMessage(){return j}static get CallMessage(){return N}static get GroupChannelNameChangeMessage(){return T}static get GroupChannelIconChangeMessage(){return L}static get MessagePinnedMessage(){return U}static get GuildMemberJoinMessage(){return k}static get Reaction(){return w}static get Embed(){return I}get id(){return this.discordObject.id}get channelId(){return this.discordObject.channel_id}get nonce(){return this.discordObject.nonce}get type(){return this.discordObject.type}get timestamp(){return this.discordObject.timestamp}get state(){return this.discordObject.state}get nick(){return this.discordObject.nick}get colourString(){return this.discordObject.colorString}get author(){if(this.discordObject.author&&!this.webhookId)return ne.from(this.discordObject.author)}get channel(){return R.fromId(this.channelId)}get guild(){if(this.channel)return this.channel.guild}delete(){if(!this.isDeletable)throw new Error(`Message type ${this.type} is not deletable.`);if(this.author!==qe.currentUser)if(this.channel.assertPermissions)this.channel.assertPermissions("MANAGE_MESSAGES",g.DiscordPermissions.MANAGE_MESSAGES);else if(!this.channel.owner===qe.currentUser)throw new S("MANAGE_MESSAGES");return g.APIModule.delete(`${g.DiscordConstants.Endpoints.MESSAGES(this.channelId)}/${this.id}`)}get isDeletable(){return"DEFAULT"===this.type||"CHANNEL_PINNED_MESSAGE"===this.type||"GUILD_MEMBER_JOIN"===this.type}jumpTo(e=!0){g.MessageActions.jumpToMessage(this.channelId,this.id,e)}}class A extends O{get webhookId(){return this.discordObject.webhookId}get type(){return"DEFAULT"}get content(){return this.discordObject.content}get contentParsed(){return this.discordObject.contentParsed}get inviteCodes(){return this.discordObject.invites}get attachments(){return this.discordObject.attachments}get mentionIds(){return this.discordObject.mentions}get mentionRoleIds(){return this.discordObject.mentionRoles}get mentionEveryone(){return this.discordObject.mentionEveryone}get editedTimestamp(){return this.discordObject.editedTimestamp}get tts(){return this.discordObject.tts}get mentioned(){return this.discordObject.mentioned}get bot(){return this.discordObject.bot}get blocked(){return this.discordObject.blocked}get pinned(){return this.discordObject.pinned}get activity(){return this.discordObject.activity}get application(){return this.discordObject.application}get webhook(){if(this.webhookId)return this.discordObject.author}get mentions(){return y.from(this.mentionIds,e=>ne.fromId(e))}get mention_roles(){return y.from(this.mentionRoleIds,e=>this.guild.roles.find(t=>t.id===e))}get embeds(){return y.from(this.discordObject.embeds,e=>new I(e,this.id,this.channelId))}get reactions(){return y.from(this.discordObject.reactions,e=>new w(e,this.id,this.channelId))}get edited(){return!!this.editedTimestamp}async edit(e,t=!1){if(this.author!==qe.currentUser)throw new Error("Cannot edit messages sent by other users.");e=t?g.MessageParser.parse(this.discordObject,e):{content:e};const r=await g.APIModule.patch({url:`${g.DiscordConstants.Endpoints.MESSAGES(this.channelId)}/${this.id}`,body:e});this.discordObject=g.MessageStore.getMessage(this.id,r.body.id),x.set(this.discordObject,this)}startEdit(e){if(this.author!==qe.currentUser)throw new Error("Cannot edit messages sent by other users.");g.MessageActions.startEditMessage(this.channelId,this.id,e||this.content)}endEdit(){g.MessageActions.endEditMessage()}}class B extends O{get type(){return"RECIPIENT_ADD"}get addedUserId(){return this.discordObject.mentions[0]}get addedUser(){return ne.fromId(this.addedUserId)}}class j extends O{get type(){return"RECIPIENT_REMOVE"}get removedUserId(){return this.discordObject.mentions[0]}get removedUser(){return ne.fromId(this.removedUserId)}get userLeft(){return this.author===this.removedUser}}class N extends O{get type(){return"CALL"}get mentionIds(){return this.discordObject.mentions}get call(){return this.discordObject.call}get endedTimestamp(){return this.call.endedTimestamp}get mentions(){return y.from(this.mentionIds,e=>ne.fromId(e))}get participants(){return y.from(this.call.participants,e=>ne.fromId(e))}}class T extends O{get type(){return"CHANNEL_NAME_CHANGE"}get newName(){return this.discordObject.content}}class L extends O{get type(){return"CHANNEL_ICON_CHANGE"}}class U extends O{get type(){return"CHANNEL_PINNED_MESSAGE"}}class k extends O{get type(){return"GUILD_MEMBER_JOIN"}}const G=new WeakMap;class R{constructor(e){if(G.has(e))return G.get(e);G.set(e,this),this.discordObject=e}static from(e){switch(e.type){default:return new R(e);case 0:return new W(e);case 1:return new K(e);case 2:return new z(e);case 3:return new Z(e);case 4:return new V(e)}}static fromId(e){const t=g.ChannelStore.getChannel(e);if(t)return R.from(t)}static get GuildChannel(){return F}static get GuildTextChannel(){return W}static get GuildVoiceChannel(){return z}static get ChannelCategory(){return V}static get PrivateChannel(){return q}static get DirectMessageChannel(){return K}static get GroupChannel(){return Z}get id(){return this.discordObject.id}get applicationId(){return this.discordObject.application_id}get type(){return this.discordObject.type}get name(){return this.discordObject.name}async sendMessage(e,t=!1){this.assertPermissions&&this.assertPermissions("SEND_MESSAGES",g.DiscordPermissions.VIEW_CHANNEL|g.DiscordPermissions.SEND_MESSAGES),this.select(),e=t?g.MessageParser.parse(this.discordObject,e):{content:e};const r=await g.MessageActions._sendMessage(this.id,e);return O.from(g.MessageStore.getMessage(this.id,r.body.id))}sendBotMessage(e){this.select();const t=g.MessageParser.createBotMessage(this.id,e);return g.MessageActions.receiveMessage(this.id,t),O.from(g.MessageStore.getMessage(this.id,t.id))}get messages(){const e=g.MessageStore.getMessages(this.id).toArray();return y.from(e,e=>O.from(e))}jumpToPresent(){this.assertPermissions&&this.assertPermissions("VIEW_CHANNEL",g.DiscordPermissions.VIEW_CHANNEL),this.hasMoreAfter?g.MessageActions.jumpToPresent(this.id,g.DiscordConstants.MAX_MESSAGES_PER_CHANNEL):this.messages[this.messages.length-1].jumpTo(!1)}get hasMoreAfter(){return g.MessageStore.getMessages(this.id).hasMoreAfter}async sendInvite(e){this.assertPermissions&&this.assertPermissions("SEND_MESSAGES",g.DiscordPermissions.VIEW_CHANNEL|g.DiscordPermissions.SEND_MESSAGES);const t=g.MessageActions.sendInvite(this.id,e);return O.from(g.MessageStore.getMessage(this.id,t.body.id))}select(){this.assertPermissions&&this.assertPermissions("VIEW_CHANNEL",g.DiscordPermissions.VIEW_CHANNEL),g.NavigationUtils.transitionToGuild(this.guildId?this.guildId:g.DiscordConstants.ME,this.id)}get isSelected(){return qe.currentChannel===this}async updateChannel(e){this.assertPermissions&&this.assertPermissions("MANAGE_CHANNELS",g.DiscordPermissions.MANAGE_CHANNELS),await g.APIModule.patch({url:`${g.DiscordConstants.Endpoints.CHANNELS}/${this.id}`,body:e}),this.discordObject=g.ChannelStore.getChannel(this.id),G.set(this.discordObject,this)}}class D{constructor(e,t){this.discordObject=e,this.channelId=t}static from(e,t){switch(e.type){default:return new D(e,t);case"role":return new _(e,t);case"member":return new H(e,t)}}static get RolePermissionOverwrite(){return _}static get MemberPermissionOverwrite(){return H}get type(){return this.discordObject.type}get allow(){return this.discordObject.allow}get deny(){return this.discordObject.deny}get channel(){return R.fromId(this.channelId)}get guild(){if(this.channel)return this.channel.guild}}class _ extends D{get roleId(){return this.discordObject.id}get role(){if(this.guild)return this.guild.roles.find(e=>e.id===this.roleId)}}class H extends D{get memberId(){return this.discordObject.id}get member(){return ie.fromId(this.memberId)}}class F extends R{static get PermissionOverwrite(){return D}get guildId(){return this.discordObject.guild_id}get parentId(){return this.discordObject.parent_id}get position(){return this.discordObject.position}get nicks(){return this.discordObject.nicks}checkPermissions(e){return g.PermissionUtils.can(e,qe.currentUser,this.discordObject)}assertPermissions(e,t){if(!this.checkPermissions(t))throw new S(e)}get category(){return R.fromId(this.parentId)}get permissions(){return g.GuildPermissions.getChannelPermissions(this.id)}get permissionOverwrites(){return y.from(Object.values(this.discordObject.permissionOverwrites),e=>D.from(e,this.id))}get guild(){return te.fromId(this.guildId)}get isDefaultChannel(){return g.GuildChannelsStore.getDefaultChannel(this.guildId).id===this.id}openSettings(e="OVERVIEW"){g.ChannelSettingsWindow.setSection(e),g.ChannelSettingsWindow.open(this.id)}updateName(e){return this.updateChannel({name:e})}changeSortLocation(e=0){return e instanceof F&&(e=e.position),this.updateChannel({position:e})}updatePermissionOverwrites(e){return this.updateChannel({permission_overwrites:e})}updateCategory(e){return this.updateChannel({parent_id:e.id||e})}}class W extends F{get type(){return"GUILD_TEXT"}get topic(){return this.discordObject.topic}get nsfw(){return this.discordObject.nsfw}updateTopic(e){return this.updateChannel({topic:e})}setNsfw(e=!0){return this.updateChannel({nsfw:e})}setNotNsfw(){return this.setNswf(!1)}}class z extends F{get type(){return"GUILD_VOICE"}get userLimit(){return this.discordObject.userLimit}get bitrate(){return this.discordObject.bitrate}sendMessage(){throw new Error("Cannot send messages in a voice channel.")}get messages(){return new y}jumpToPresent(){throw new Error("Cannot select a voice channel.")}get hasMoreAfter(){return!1}sendInvite(){throw new Error("Cannot invite someone to a voice channel.")}select(){throw new Error("Cannot select a voice channel.")}updateBitrate(e){return this.updateChannel({bitrate:e})}updateUserLimit(e){return this.updateChannel({user_limit:e})}}class V extends F{get type(){return"GUILD_CATEGORY"}get parentId(){}get category(){}sendMessage(){throw new Error("Cannot send messages in a channel category.")}get messages(){return new y}jumpToPresent(){throw new Error("Cannot select a channel category.")}get hasMoreAfter(){return!1}sendInvite(){throw new Error("Cannot invite someone to a channel category.")}select(){throw new Error("Cannot select a channel category.")}updateCategory(){throw new Error("Cannot set a channel category on another channel category.")}get channels(){return y.from(this.guild.channels,e=>e.parentId===this.id)}openCreateChannelModal(e,t,r){this.guild.openCreateChannelModal(e,this.id,this,r)}createChannel(e,t,r){return this.guild.createChannel(e,t,this,r)}}class q extends R{get userLimit(){return this.discordObject.userLimit}get bitrate(){return this.discordObject.bitrate}}class K extends q{get type(){return"DM"}get recipientId(){return this.discordObject.recipients[0]}get recipient(){return ne.fromId(this.recipientId)}}class Z extends q{get ownerId(){return this.discordObject.ownerId}get type(){return"GROUP_DM"}get name(){return this.discordObject.name}get icon(){return this.discordObject.icon}get members(){return y.from(this.discordObject.recipients,e=>ne.fromId(e))}get owner(){return ne.fromId(this.ownerId)}updateName(e){return this.updateChannel({name:e})}}const J=new WeakMap;class Y{constructor(e,t){if(J.has(e))return J.get(e);J.set(e,this),this.discordObject=e,this.guildId=t}get id(){return this.discordObject.id}get name(){return this.discordObject.name}get position(){return this.discordObject.position}get originalPosition(){return this.discordObject.originalPosition}get permissions(){return this.discordObject.permissions}get managed(){return this.discordObject.managed}get mentionable(){return this.discordObject.mentionable}get hoist(){return this.discordObject.hoist}get colour(){return this.discordObject.color}get colourString(){return this.discordObject.colorString}get guild(){return te.fromId(this.guildId)}get members(){return this.guild.members.filter(e=>e.roles.includes(this))}}const Q=new WeakMap;class X{constructor(e){if(Q.has(e))return Q.get(e);Q.set(e,this),this.discordObject=e}get id(){return this.discordObject.id}get guildId(){return this.discordObject.guild_id}get name(){return this.discordObject.name}get managed(){return this.discordObject.managed}get animated(){return this.discordObject.animated}get allNamesString(){return this.discordObject.allNamesString}get requireColons(){return this.discordObject.require_colons}get url(){return this.discordObject.url}get roles(){return this.discordObject.roles}get guild(){return te.fromId(this.guildId)}}const ee=new WeakMap;class te{constructor(e){if(ee.has(e))return ee.get(e);ee.set(e,this),this.discordObject=e}static from(e){return new te(e)}static fromId(e){const t=g.GuildStore.getGuild(e);if(t)return te.from(t)}static get Role(){return Y}static get Emoji(){return X}get id(){return this.discordObject.id}get ownerId(){return this.discordObject.ownerId}get applicationId(){return this.discordObject.application_id}get systemChannelId(){return this.discordObject.systemChannelId}get name(){return this.discordObject.name}get acronym(){return this.discordObject.acronym}get icon(){return this.discordObject.icon}get joinedAt(){return this.discordObject.joinedAt}get verificationLevel(){return this.discordObject.verificationLevel}get mfaLevel(){return this.discordObject.mfaLevel}get large(){return this.discordObject.large}get lazy(){return this.discordObject.lazy}get voiceRegion(){return this.discordObject.region}get afkChannelId(){return this.discordObject.afkChannelId}get afkTimeout(){return this.discordObject.afkTimeout}get explicitContentFilter(){return this.discordObject.explicitContentFilter}get defaultMessageNotifications(){return this.discordObject.defaultMessageNotifications}get splash(){return this.discordObject.splash}get features(){return this.discordObject.features}get owner(){return this.members.find(e=>e.userId===this.ownerId)}get roles(){return y.from(Object.values(this.discordObject.roles),e=>new Y(e,this.id)).sort((e,t)=>e.position===t.position?0:e.position>t.position?1:-1)}get channels(){const e=g.GuildChannelsStore.getChannels(this.id),t=new y;for(const r in e)if(e.hasOwnProperty(r)){if(!Array.isArray(e[r]))continue;const n=e[r];for(const e of n)"null"!==e.channel.id&&t.push(R.from(e.channel))}return t}get mainChannels(){return this.channels.filter(e=>!e.parentId)}get defaultChannel(){return R.from(g.GuildChannelsStore.getDefaultChannel(this.id))}get afkChannel(){if(this.afkChannelId)return R.fromId(this.afkChannelId)}get systemChannel(){if(this.systemChannelId)return R.fromId(this.systemChannelId)}get members(){const e=g.GuildMemberStore.getMembers(this.id);return y.from(e,e=>new ie(e,this.id))}get currentUser(){return this.members.find(e=>e.user===qe.currentUser)}get memberCount(){return g.MemberCountStore.getMemberCount(this.id)}get emojis(){return y.from(g.EmojiUtils.getGuildEmoji(this.id),e=>new X(e,this.id))}checkPermissions(e){return g.PermissionUtils.can(e,qe.currentUser,this.discordObject)}assertPermissions(e,t){if(!this.checkPermissions(t))throw new S(e)}get permissions(){return g.GuildPermissions.getGuildPermissions(this.id)}getMember(e){const t=g.GuildMemberStore.getMember(this.id,e);if(t)return new ie(t,this.id)}isMember(e){return g.GuildMemberStore.isMember(this.id,e)}get allowPrivateMessages(){return!qe.UserSettings.restrictedGuildIds.includes(this.id)}markAsRead(){g.GuildActions.markGuildAsRead(this.id)}select(){g.GuildActions.selectGuild(this.id)}get isSelected(){return qe.currentGuild===this}openSettings(e="OVERVIEW"){g.GuildSettingsWindow.setSection(e),g.GuildSettingsWindow.open(this.id)}pruneMembers(e){this.assertPermissions("KICK_MEMBERS",g.DiscordPermissions.KICK_MEMBERS),g.PruneMembersModal.prune(this.id,e)}openPruneMumbersModal(){this.assertPermissions("KICK_MEMBERS",g.DiscordPermissions.KICK_MEMBERS),g.PruneMembersModal.open(this.id)}openCreateChannelModal(e,t,r){this.assertPermissions("MANAGE_CHANNELS",g.DiscordPermissions.MANAGE_CHANNELS),g.CreateChannelModal.open(e,this.id,t?t.id:void 0,r?r.id:void 0)}async createChannel(e,t,r,n){this.assertPermissions("MANAGE_CHANNELS",g.DiscordPermissions.MANAGE_CHANNELS);const s=await g.APIModule.post({url:g.DiscordConstants.Endpoints.GUILD_CHANNELS(this.id),body:{type:e,name:t,parent_id:r?r.id:void 0,permission_overwrites:n?n.map(e=>({type:e.type,id:("user"===e.type?e.userId:e.roleId)||e.id,allow:e.allow,deny:e.deny})):void 0}});return R.fromId(s.body.id)}openNotificationSettingsModal(){g.NotificationSettingsModal.open(this.id)}openPrivacySettingsModal(){g.PrivacySettingsModal.open(this.id)}nsfwAgree(){g.GuildActions.nsfwAgree(this.id)}nsfwDisagree(){g.GuildActions.nsfwDisagree(this.id)}changeSortLocation(e){g.GuildActions.move(qe.guildPositions.indexOf(this.id),e)}async updateGuild(e){this.assertPermissions("MANAGE_GUILD",g.DiscordPermissions.MANAGE_GUILD),await g.GuildSettingsWindow.saveGuild(this.id,e),this.discordObject=g.GuildStore.getGuild(this.id),ee.set(this.discordObject,this)}updateName(e){return this.updateGuild({name:e})}updateVoiceRegion(e){return this.updateGuild({region:e})}updateVerificationLevel(e){return this.updateGuild({verification_level:e})}updateDefaultMessageNotifications(e){return this.updateGuild({default_message_notifications:e})}updateExplicitContentFilter(e){return this.updateGuild({explicit_content_filter:e})}updateAfkChannel(e){return this.updateGuild({afk_channel_id:e.id||e})}updateAfkTimeout(e){return this.updateGuild({afk_timeout:e})}updateIcon(e){return this.updateGuild({icon:"string"==typeof e?e:e.toString("base64")})}async updateIconFromFile(e){const t=await l.readFileBuffer(e);return this.updateIcon(t)}updateOwner(e){return this.updateGuild({owner_id:e.user?e.user.id:e.id||e})}updateSplash(e){return this.updateGuild({splash:"string"==typeof e?e:e.toString("base64")})}async updateSplashFromFile(e){const t=await l.readFileBuffer(e);return this.updateSplash(t)}updateSystemChannel(e){return this.updateGuild({system_channel_id:e.id||e})}}const re=new WeakMap;class ne{constructor(e){if(re.has(e))return re.get(e);re.set(e,this),this.discordObject=e}static from(e){return new ne(e)}static fromId(e){const t=g.UserStore.getUser(e);if(t)return ne.from(t)}get id(){return this.discordObject.id}get username(){return this.discordObject.username}get usernameLowerCase(){return this.discordObject.usernameLowerCase}get discriminator(){return this.discordObject.discriminator}get avatar(){return this.discordObject.avatar}get email(){}get phone(){}get flags(){return this.discordObject.flags}get isBot(){return this.discordObject.bot}get premium(){return this.discordObject.premium}get verified(){return this.discordObject.verified}get mfaEnabled(){return this.discordObject.mfaEnabled}get mobile(){return this.discordObject.mobile}get tag(){return this.discordObject.tag}get avatarUrl(){return this.discordObject.avatarURL}get createdAt(){return this.discordObject.createdAt}get isClamied(){return this.discordObject.isClaimed()}get isLocalBot(){return this.discordObject.isLocalBot()}get isPhoneVerified(){return this.discordObject.isPhoneVerified()}get guilds(){return qe.guilds.filter(e=>e.members.find(e=>e.user===this))}get status(){return g.UserStatusStore.getStatus(this.id)}get activity(){return g.UserStatusStore.getActivity(this.id)}get note(){const e=g.UserNoteStore.getNote(this.id);if(e)return e}updateNote(e){return g.APIModule.put({url:`${g.DiscordConstants.Endpoints.NOTES}/${this.id}`,body:{note:e}})}get privateChannel(){return qe.channels.find(e=>"DM"===e.type&&e.recipientId===this.id)}async ensurePrivateChannel(){if(qe.currentUser===this)throw new Error("Cannot create a direct message channel to the current user.");return R.fromId(await g.PrivateChannelActions.ensurePrivateChannel(qe.currentUser.id,this.id))}async sendMessage(e,t=!0){return(await this.ensurePrivateChannel()).sendMessage(e,t)}get isFriend(){return g.RelationshipStore.isFriend(this.id)}get isBlocked(){return g.RelationshipStore.isBlocked(this.id)}addFriend(){g.RelationshipManager.addRelationship(this.id,{location:"Context Menu"})}removeFriend(){g.RelationshipManager.removeRelationship(this.id,{location:"Context Menu"})}block(){g.RelationshipManager.addRelationship(this.id,{location:"Context Menu"},g.DiscordConstants.RelationshipTypes.BLOCKED)}unblock(){g.RelationshipManager.removeRelationship(this.id,{location:"Context Menu"})}openUserProfileModal(e="USER_INFO"){g.UserProfileModal.open(this.id),g.UserProfileModal.setSection(e)}}const se=new WeakMap;class ie{constructor(e,t){if(se.has(e))return se.get(e);se.set(e,this),this.discordObject=e,this.guildId=t}get userId(){return this.discordObject.userId}get nickname(){return this.discordObject.nick}get colourString(){return this.discordObject.colorString}get hoistRoleId(){return this.discordObject.hoistRoleId}get roleIds(){return this.discordObject.roles}get user(){return ne.fromId(this.userId)}get name(){return this.nickname||this.user.username}get guild(){return te.fromId(this.guildId)}get roles(){return y.from(this.roleIds,e=>this.guild.roles.find(t=>t.id===e)).sort((e,t)=>e.position===t.position?0:e.position>t.position?1:-1)}get hoistRole(){return this.guild.roles.find(e=>e.id===this.hoistRoleId)}checkPermissions(e){return g.PermissionUtils.can(e,qe.currentUser.discordObject,this.guild.discordObject)}assertPermissions(e,t){if(!this.checkPermissions(t))throw new S(e)}openChangeNicknameModal(){qe.currentUser===this.user?this.assertPermissions("CHANGE_NICKNAME",g.DiscordPermissions.CHANGE_NICKNAME):this.assertPermissions("MANAGE_NICKNAMES",g.DiscordPermissions.MANAGE_NICKNAMES),g.ChangeNicknameModal.open(this.guildId,this.userId)}changeNickname(e){return qe.currentUser===this.user?this.assertPermissions("CHANGE_NICKNAME",g.DiscordPermissions.CHANGE_NICKNAME):this.assertPermissions("MANAGE_NICKNAMES",g.DiscordPermissions.MANAGE_NICKNAMES),g.APIModule.patch({url:`${g.DiscordConstants.Endpoints.GUILD_MEMBERS(this.guild_id)}/${qe.currentUser===this.user?"@me/nick":this.userId}`,body:{nick:e}})}kick(e=""){return this.assertPermissions("KICK_MEMBERS",g.DiscordPermissions.KICK_MEMBERS),g.GuildActions.kickUser(this.guildId,this.userId,e)}ban(e=1,t=""){return this.assertPermissions("BAN_MEMBERS",g.DiscordPermissions.BAN_MEMBERS),g.GuildActions.banUser(this.guildId,this.userId,e,t)}unban(){return this.assertPermissions("BAN_MEMBERS",g.DiscordPermissions.BAN_MEMBERS),g.GuildActions.unbanUser(this.guildId,this.userId)}move(e){this.assertPermissions("MOVE_MEMBERS",g.DiscordPermissions.MOVE_MEMBERS),g.GuildActions.setChannel(this.guildId,this.userId,e.id)}mute(e=!0){this.assertPermissions("MUTE_MEMBERS",g.DiscordPermissions.MUTE_MEMBERS),g.GuildActions.setServerMute(this.guildId,this.userId,e)}unmute(){this.mute(!1)}deafen(e=!0){this.assertPermissions("DEAFEN_MEMBERS",g.DiscordPermissions.DEAFEN_MEMBERS),g.GuildActions.setServerDeaf(this.guildId,this.userId,e)}undeafen(){this.deafen(!1)}addRole(...e){const t=this.roleIds.concat([]);let r=!1;for(let n of e)t.includes(n.id||n)||(t.push(n.id||n),r=!0);if(r)return this.updateRoles(t)}removeRole(...e){const t=this.roleIds.concat([]);let r=!1;for(let n of e)t.includes(n.id||n)&&(l.removeFromArray(t,n.id||n),r=!0);if(r)return this.updateRoles(t)}updateRoles(e){return e=e.map(e=>e.id||e),g.APIModule.patch({url:`${g.DiscordConstants.Endpoints.GUILD_MEMBERS(this.guildId)}/${this.userId}`,body:{roles:e}})}}class oe{static open(e="ACCOUNT"){g.UserSettingsWindow.setSection(e),g.UserSettingsWindow.open()}static get status(){return g.UserSettingsStore.status}static get explicitContentFilter(){return g.UserSettingsStore.explicitContentFilter}static get defaultGuildsRestricted(){return g.UserSettingsStore.defaultGuildsRestricted}static get restrictedGuildIds(){return g.UserSettingsStore.restrictedGuilds}static get restrictedGuilds(){return y.from(this.restrictedGuildIds,e=>te.fromId(e)||e)}static get friendSourceFlags(){return Object.keys(g.UserSettingsStore.friendSourceFlags)}static get friendSourceEveryone(){return this.friend_source_flags.include("all")}static get friendSourceMutual_friends(){return this.friend_source_flags.include("all")||this.friend_source_flags.include("mutual_friends")}static get friendSourceMutual_guilds(){return this.friend_source_flags.include("all")||this.friend_source_flags.include("mutual_guilds")}static get friendSourceAnyone(){return this.friend_source_flags.length>0}static get detectPlatformAccounts(){return g.UserSettingsStore.detectPlatformAccounts}static get afkTimeout(){return g.UserSettingsStore.afkTimeout}static get showCurrentGame(){return g.UserSettingsStore.showCurrentGame}static get inlineAttachmentMedia(){return g.UserSettingsStore.inlineAttachmentMedia}static get inlineEmbedMedia(){return g.UserSettingsStore.inlineEmbedMedia}static get autoplayGifs(){return g.UserSettingsStore.gifAutoPlay}static get showEmbeds(){return g.UserSettingsStore.renderEmbeds}static get showReactions(){return g.UserSettingsStore.renderReactions}static get animateEmoji(){return g.UserSettingsStore.animateEmoji}static get convertEmoticons(){return g.UserSettingsStore.convertEmoticons}static get allowTts(){return g.UserSettingsStore.enableTTSCommand}static get theme(){return g.UserSettingsStore.theme}static get displayCompact(){return g.UserSettingsStore.messageDisplayCompact}static get developerMode(){return g.UserSettingsStore.developerMode}static get locale(){return g.UserSettingsStore.locale}static get timezoneOffset(){return g.UserSettingsStore.timezoneOffset}}class ae{static loadData(e,t,r){try{return l.extend(r||{},bdPluginStorage.get(e,t))}catch(t){d.err(e,"Unable to load data: ",t)}}static saveData(e,t,r){try{bdPluginStorage.set(e,t,r)}catch(t){d.err(e,"Unable to save data: ",t)}}static loadSettings(e,t){return this.loadData(e,"settings",t)}static saveSettings(e,t){this.saveData(e,"settings",t)}static getBDFolder(e=""){const t=r(8),n=r(2);switch(t.platform){case"win32":return n.resolve(t.env.appdata,"BetterDiscord/",e);case"darwin":return n.resolve(t.env.HOME,"Library/Preferences/","BetterDiscord/",e);default:return n.resolve(t.env.XDG_CONFIG_HOME?t.env.XDG_CONFIG_HOME:t.env.HOME+"/.config","BetterDiscord/",e)}}static getPluginsFolder(){return this.getBDFolder("plugins/")}static getThemesFolder(){return this.getBDFolder("themes/")}static addOnSwitchListener(e){r(1).remote.getCurrentWebContents().on("did-navigate-in-page",e)}static removeOnSwitchListener(e){r(1).remote.getCurrentWebContents().removeListener("did-navigate-in-page",e)}}class ce{static get patches(){return global._patches||(global._patches=[])}static getPatchesByCaller(e){if(!e)return[];const t=[];for(const r of this.patches)for(const n of r.children)n.caller===e&&t.push(n);return t}static unpatchAll(e){"string"==typeof e&&(e=this.getPatchesByCaller(e));for(const t of e)t.unpatch()}static resolveModule(e){return e instanceof Function||e instanceof Object&&!(e instanceof Array)?e:"string"==typeof e?g[e]:e instanceof Array?p.findByUniqueProperties(e):null}static makeOverride(e){return function(){let t=void 0;if(!e.children)return e.originalFunction.apply(this,arguments);for(const t of e.children.filter(e=>"before"===e.type))try{t.callback(this,arguments)}catch(r){d.err("Patcher",`Could not fire before callback of ${e.functionName} for ${t.caller}`,r)}const r=e.children.filter(e=>"instead"===e.type);if(r.length)for(const n of r)try{const r=n.callback(this,arguments,e.originalFunction.bind(this));void 0!==r&&(t=r)}catch(t){d.err("Patcher",`Could not fire instead callback of ${e.functionName} for ${n.caller}`,t)}else t=e.originalFunction.apply(this,arguments);for(const r of e.children.filter(e=>"after"===e.type))try{const n=r.callback(this,arguments,t);void 0!==n&&(t=n)}catch(t){d.err("Patcher",`Could not fire after callback of ${e.functionName} for ${r.caller}`,t)}return t}}static rePatch(e){e.proxyFunction=e.module[e.functionName]=this.makeOverride(e)}static makePatch(e,t,r){const n={name:r,module:e,functionName:t,originalFunction:e[t],proxyFunction:null,revert:()=>{n.module[n.functionName]=n.originalFunction,n.proxyFunction=null,n.children=[]},counter:0,children:[]};return n.proxyFunction=e[t]=this.makeOverride(n),this.patches.push(n),n}static before(e,t,r,n,s={}){return this.pushChildPatch(e,t,r,n,Object.assign(s,{type:"before"}))}static after(e,t,r,n,s={}){return this.pushChildPatch(e,t,r,n,Object.assign(s,{type:"after"}))}static instead(e,t,r,n,s={}){return this.pushChildPatch(e,t,r,n,Object.assign(s,{type:"instead"}))}static pushChildPatch(e,t,r,n,s={}){const{type:i="after",forcePatch:o=!0}=s,a=this.resolveModule(t);if(!a)return null;if(!a[r]&&o&&(a[r]=function(){}),!(a[r]instanceof Function))return null;"string"==typeof t&&(s.displayName=t);const c=`${s.displayName||a.displayName||a.name||a.constructor.displayName||a.constructor.name}.${r}`,d=this.patches.find(e=>e.module==a&&e.functionName==r)||this.makePatch(a,r,c);d.proxyFunction||this.rePatch(d);const u={caller:e,type:i,id:d.counter,callback:n,unpatch:()=>{if(d.children.splice(d.children.findIndex(e=>e.id===u.id&&e.type===i),1),d.children.length<=0){let e=this.patches.findIndex(e=>e.module==a&&e.functionName==r);this.patches[e].revert(),this.patches.splice(e,1)}}};return d.children.push(u),d.counter++,u.unpatch}}var de=l.memoizeObject({get ContextMenu(){return p.getByProps("itemToggle")},get Scrollers(){return p.getByProps("scrollerWrap")},get AccountDetails(){return Object.assign({},p.getByProps("nameTag"),p.getByProps("accountDetails"))},get Typing(){return p.getByProps("typing","text")},get UserPopout(){return p.getByProps("userPopout")},get PopoutRoles(){return p.getByProps("roleCircle")},get UserModal(){return p.getByProps("profileBadge")},get Textarea(){return p.getByProps("channelTextArea","textArea")},get Popouts(){return p.getByProps("popouts")},get Titles(){return p.getByProps("defaultMarginh5")},get Notices(){return p.getByProps("noticeInfo")},get Backdrop(){return p.getByProps("backdrop")},get Modals(){return p.getModule(e=>e.modal&&e.inner&&!e.header)},get AuditLog(){return p.getByProps("userHook")},get ChannelList(){return Object.assign({},p.getByProps("containerDefault"),p.getByProps("nameDefaultText"),p.getByProps("channels","container"))},get MemberList(){return Object.assign({},p.getByProps("member","memberInner"),p.getByProps("members","membersWrap"))},get TitleWrap(){return p.getByProps("titleWrapper")},get Titlebar(){return p.getByProps("titleBar")},get Embeds(){return p.getByProps("embed","embedAuthor")},get Layers(){return p.getByProps("layers","layer")},get Margins(){return p.getModule(e=>!e.title&&e.marginBottom40&&e.marginTop40)},get Dividers(){return p.getModule(e=>e.dividerDefault)},get Changelog(){return Object.assign({},p.getByProps("container","added"),p.getByProps("content","modal","size"))},get BasicInputs(){return p.getByProps("inputDefault","size16")}}),ue=new Proxy(de,{get:function(e,t){return void 0===e[t]?new Proxy({},{get:function(){return""}}):new Proxy(e[t],{get:function(e,t){return e.hasOwnProperty(t)?new Ve.ClassName(e[t]):""}})}});var le=class{constructor(){this.listeners=[]}addListener(e){if("function"==typeof e)return this.listeners.push(e),()=>{this.listeners.splice(this.listeners.indexOf(e),1)}}removeListener(e){"function"==typeof e&&this.listeners.splice(this.listeners.indexOf(e),1)}alertListeners(e){for(let t=0;t<this.listeners.length;t++)this.listeners[t](e)}};var ge=class extends le{constructor(e,t,r,n,s={}){super(),this.name=e,this.note=t,"function"==typeof r&&this.addListener(r),this.inputWrapper=Ve.parseHTML('<div class="plugin-input-container"></div>'),this.type="function"==typeof n?n:We.wrapElement(n),this.props=s,Ve.onAdded(this.getElement(),()=>{this.onAdded()}),Ve.onRemoved(this.getElement(),()=>{this.onRemoved()})}getElement(){return this.inputWrapper}onChange(){this.alertListeners(...arguments)}onAdded(){const e=g.ReactDOM.render(g.React.createElement(he,Object.assign({title:this.name,type:this.type,note:this.note},this.props)),this.getElement());this.props.onChange&&(e.props.onChange=this.props.onChange(e)),e.forceUpdate()}onRemoved(){g.ReactDOM.unmountComponentAtNode(this.getElement())}};class he extends g.React.Component{constructor(e){super(e)}get noteElement(){const e=this.props.noteOnTop?ue.Margins.marginBottom8:ue.Margins.marginTop8;return g.React.createElement(g.SettingsNote,{children:this.props.note,type:"description",className:e.toString()})}get dividerElement(){return g.React.createElement(g.SettingsDivider,{className:ue.Dividers.dividerDefault.toString()})}render(){const e=g.React.createElement(this.props.type,this.props);return g.React.createElement(g.SettingsWrapper,{className:ue.Margins.marginBottom20.toString(),title:this.props.title,children:[this.props.noteOnTop?this.noteElement:e,this.props.noteOnTop?e:this.noteElement,this.dividerElement]})}}class pe extends le{constructor(e,t={}){super();const{collapsible:r=!0,shown:n=!1,callback:s=(()=>{})}=t;this.addListener(s),this.onChange=this.onChange.bind(this);const i=n||!r?"":"collapsed",o=Ve.parseHTML(`<div class="plugin-input-group">\n\t\t\t\t\t\t\t\t\t\t\t<h2 class="${ue.Titles.h5} ${ue.Titles.defaultMarginh5} ${ue.Titles.defaultColor}">\n\t\t\t\t\t\t\t\t\t\t\t<span class="button-collapse ${i}"></span> ${e}\n\t\t\t\t\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t\t\t\t\t<div class="plugin-inputs collapsible ${i}"></div>\n\t\t\t\t\t\t\t\t\t\t\t</div>`),a=o.querySelector("h2"),c=o.querySelector(".plugin-inputs");this.group=o,this.label=a,this.controls=c,r&&a.addEventListener("click",async()=>{const e=a.querySelector(".button-collapse"),t=e.classList.contains("collapsed");o.parentElement.querySelectorAll(":scope > .plugin-input-group > .collapsible:not(.collapsed)").forEach(e=>{e.style.setProperty("height",e.scrollHeight+"px"),e.classList.add("collapsed"),setImmediate(()=>{e.style.setProperty("height","")})}),o.parentElement.querySelectorAll(":scope > .plugin-input-group > h2 > .button-collapse").forEach(e=>e.classList.add("collapsed")),t&&(c.style.setProperty("height",c.scrollHeight+"px"),c.classList.remove("collapsed"),e.classList.remove("collapsed"),await new Promise(e=>setTimeout(e,300)),c.style.setProperty("height",""))})}getElement(){return this.group}append(...e){for(var t=0;t<e.length;t++)e[t]instanceof jQuery||e[t]instanceof Element?this.controls.append(e[t]):(e[t]instanceof ge||e[t]instanceof pe)&&(this.controls.append(e[t].getElement()),e[t].addListener(this.onChange));return this}appendTo(e){return e.append(this.group),this}onChange(){this.alertListeners(...arguments)}}var me=pe;class fe{constructor(e,...t){this.element=Ve.parseHTML('<div class="plugin-form-container"></div>'),this.onChangeCallback="function"==typeof e?e:e=>e,this.onChange=this.onChange.bind(this),this.append(...t)}static build(e,...t){return new fe(e,...t).getElement()}getElement(){return this.element}append(...e){for(var t=0;t<e.length;t++)e[t]instanceof jQuery||e[t]instanceof Element?this.element.append(e[t]):(e[t]instanceof ge||e[t]instanceof me)&&(this.element.append(e[t].getElement()),e[t].addListener(this.onChange));return this}onChange(){this.onChangeCallback(...arguments)}}var ye=fe;var be=class extends ge{constructor(e,t,r,n,s={}){super(e,t,n,g.Textbox,{onChange:e=>t=>{e.props.value=t,e.forceUpdate(),this.onChange(t)},value:r,placeholder:s.placeholder?s.placeholder:""})}};const Me=[1752220,3066993,3447003,10181046,15277667,15844367,15105570,15158332,9807270,6323595,1146986,2067276,2123412,7419530,11342935,12745742,11027200,10038562,9936031,5533306];var Ce=class extends ge{constructor(e,t,r,n,s={}){super(e,t,n,g.ColorPicker,{disabled:!!s.disabled,onChange:e=>t=>{e.props.value=t,e.forceUpdate(),this.onChange(f.int2hex(t))},colors:Array.isArray(s.colors)?s.colors:Me,defaultColor:"number"==typeof r?r:f.hex2int(r),value:0})}static get presetColors(){return Me}};var Pe=class extends ge{constructor(e,t,r){const n=Ve.parseHTML(`<input type="file" class="${ue.BasicInputs.inputDefault.add("file-input")}">`);n.addEventListener("change",e=>{this.onChange(e.target.files[0])}),super(e,t,r,n)}};var Se=class extends ge{constructor(e,t,r,n,s,i,o={}){const a={onChange:e=>e,defaultValue:s,disabled:!!o.disabled,minValue:r,maxValue:n,handleSize:10};o.fillStyles&&(a.fillStyles=o.fillStyles),o.markers&&(a.markers=o.markers),o.stickToMarkers&&(a.stickToMarkers=o.stickToMarkers),void 0!==o.equidistant&&(a.equidistant=o.equidistant),super(e,t,i,g.Slider,Object.assign(a,{onValueChange:e=>this.onChange(e)}))}};var ve=class extends ge{constructor(e,t,r,n,s={}){super(e,t,n),this.disabled=!!s.disabled,this.value=!!r}onAdded(){const e=g.ReactDOM.render(g.React.createElement(g.SwitchRow,{children:this.name,note:this.note,disabled:this.disabled,hideBorder:!1,value:this.value,onChange:t=>{const r=t.currentTarget.checked;e.props.value=r,e.forceUpdate(),this.onChange(r)}}),this.getElement())}};var we=class extends ge{constructor(e,t,r,n,s,i={}){const{clearable:o=!1,searchable:a=!1}=i;super(e,t,s,g.Dropdown,{clearable:o,searchable:a,options:n,onChange:e=>t=>{e.props.value=t.value,e.forceUpdate(),this.onChange(t.value)},value:r})}};var Ee=class extends ge{constructor(e,t,r,n){super(e,t,n,g.Keybind,{defaultValue:r.map(e=>[0,e]),onChange:e=>t=>{Array.isArray(t)&&(e.props.value=t,this.onChange(t.map(e=>e[1])))}})}};var Ie=class extends ge{constructor(e,t,r,n,s,i={}){super(e,t,s,g.RadioGroup,{noteOnTop:!0,disabled:!!i.disabled,options:n,onChange:e=>t=>{e.props.value=t.value,e.forceUpdate(),this.onChange(t.value)},value:r})}};const xe=r(7);var Oe=new Proxy(de,{get:function(e,t){return void 0===e[t]?new Proxy({},{get:function(){return""}}):new Proxy(e[t],{get:function(e,t){return e.hasOwnProperty(t)?new Ve.Selector(e[t]):""}})}});class Ae{constructor(e=!1){this.theme=$(".theme-dark").length?"theme-dark":"theme-light",this.element=$("<div>").addClass(ue.ContextMenu.contextMenu.toString()).addClass("plugin-context-menu").addClass(this.theme),this.scroll=e,e&&(this.scroller=$("<div>").addClass(ue.Scrollers.scroller.toString()).addClass(ue.ContextMenu.scroller.toString()),this.element.append($("<div>").addClass(ue.Scrollers.scrollerWrap.toString()).addClass(ue.Scrollers.scrollerThemed.toString()).addClass(ue.Scrollers.themeGhostHairline.toString()).append(this.scroller)))}addGroup(e){return this.scroll?this.scroller.append(e.getElement()):this.element.append(e.getElement()),this}addItems(...e){for(var t=0;t<e.length;t++)this.scroll?this.scroller.append(e[t].getElement()):this.element.append(e[t].getElement());return this}show(e,t){const r=Math.max(document.documentElement.clientWidth,window.innerWidth||0),n=Math.max(document.documentElement.clientHeight,window.innerHeight||0),s=e,i=t;let o=this.element.parents(".plugin-context-menu").length>this.element.parents(Oe.ContextMenu.contextMenu.toString()).length?".plugin-context-menu":Oe.ContextMenu.contextMenu.toString();var a=this.element.parents(o).length;if(0==a&&this.element.appendTo("#app-mount"),this.element.css("top",i).css("left",s),a>0){var c=this.element.parents(o).last(),d=this.element.parents(o).first(),u=d.hasClass(ue.ContextMenu.invertChildX.toString())?-1:1;this.element.css("margin-left",u*d.find(`.${ue.ContextMenu.item}`).outerWidth()+d.offset().left-c.offset().left)}i+this.element.outerHeight()>=n&&(this.element.addClass("invertY").addClass(ue.ContextMenu.invertY.toString()),this.element.css("top",i-this.element.outerHeight()),a>0&&this.element.css("top",i+this.element.parent().outerHeight()-this.element.outerHeight())),this.element.offset().left+this.element.outerWidth()>=r&&(this.element.addClass("invertX"),this.element.css("left",s-this.element.outerWidth())),this.element.offset().left+2*this.element.outerWidth()>=r&&this.element.addClass(ue.ContextMenu.invertChildX.toString()),0==a&&($(document).on("mousedown.zctx",e=>{this.element.has(e.target).length||this.element.is(e.target)||this.removeMenu()}),$(document).on("click.zctx",e=>{this.element.has(e.target).length&&$._data($(e.target).closest(Oe.ContextMenu.item.toString())[0],"events").click&&this.removeMenu()}),$(document).on("keyup.zctx",e=>{27===e.keyCode&&this.removeMenu()}))}removeMenu(){let e=this.element.parents(".plugin-context-menu").length>this.element.parents(Oe.ContextMenu.contextMenu.toString()).length?".plugin-context-menu":Oe.ContextMenu.contextMenu.toString();this.element.detach(),this.element.find(e).detach(),$(document).off(".zctx")}attachTo(e){this.menuItem=$(e),e.on("mouseenter",()=>{this.element.appendTo(e);let t=this.element.parents(".plugin-context-menu").length>this.element.parents(Oe.ContextMenu.contextMenu.toString()).length?".plugin-context-menu":Oe.ContextMenu.contextMenu.toString();this.show(this.element.parents(t).css("left"),e.offset().top)}),e.on("mouseleave",()=>{this.element.detach()})}}class Be{constructor(){this.element=$("<div>").addClass(ue.ContextMenu.itemGroup.toString())}addItems(...e){for(var t=0;t<e.length;t++)this.element.append(e[t].getElement());return this}getElement(){return this.element}}class je{constructor(e,t={}){var{danger:r=!1,callback:n}=t;this.element=$("<div>").addClass(ue.ContextMenu.item.toString()),this.label=e,r&&this.element.addClass(ue.ContextMenu.danger.toString()),"function"==typeof n&&this.element.on("click",e=>{e.stopPropagation(),n(e)})}getElement(){return this.element}}class Ne extends je{constructor(e,t={}){super(e,t);var{hint:r=""}=t;this.element.append($("<span>").text(e)),this.element.append($("<div>").addClass(ue.ContextMenu.hint.toString()).text(r))}}class Te extends je{constructor(e,t,r={}){super(e,r),this.element.addClass(ue.ContextMenu.itemImage.toString()),this.element.append($("<div>").addClass(ue.ContextMenu.label.toString()).text(e)),this.element.append($("<img>",{src:t}))}}class Le extends je{constructor(e,t,r={}){super(e,r),this.element.addClass(ue.ContextMenu.itemSubMenu.toString()).text(e),this.subMenu=t,this.subMenu.attachTo(this.getElement())}}class Ue extends je{constructor(e,t,r={}){var{onChange:n}=r;super(e,r),this.element.addClass(ue.ContextMenu.itemToggle.toString()),this.element.append($("<div>").addClass(ue.ContextMenu.label.toString()).text(e)),this.checkbox=$("<div>",{class:"checkbox"}),this.checkbox.append($("<div>",{class:"checkbox-inner"})),this.checkbox.append("<span>"),this.input=$("<input>",{type:"checkbox",checked:t,value:"on"}),this.checkbox.find(".checkbox-inner").append(this.input).append("<span>"),this.element.append(this.checkbox),this.element.on("click",e=>{e.stopPropagation(),this.input.prop("checked",!this.input.prop("checked")),"function"==typeof n&&n(this.input.prop("checked"))})}}var ke=function(e){return`<svg width="${e||24}" height="${e||24}" viewBox="0 0 24 24">\n            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z" />\n        </svg>`},Ge=function(e){return`<svg width="${e||24}" height="${e||24}" viewBox="0 0 24 24">\n                <path d="M0 0h24v24H0z" fill="none"/>\n                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/>\n            </svg>`},Re=function(e){return`<svg width="${e||24}" height="${e||24}" viewBox="0 0 24 24">\n                <path d="M0 0h24v24H0z" fill="none"/>\n                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>\n            </svg>`},De=function(e){return`<svg width="${e||24}" height="${e||24}" viewBox="0 0 24 24">\n                <path d="M0 0h24v24H0z" fill="none"/>\n                <path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/>\n            </svg>`};class _e{constructor(e,t,r={}){if(!(e instanceof jQuery||e instanceof Element))return;this.node=e instanceof jQuery?e[0]:e;const{style:n="black",side:s="top"}=r;this.label=t,this.style=n,this.side=s,this.id=g.KeyGenerator(),this.node.addEventListener("mouseenter",()=>{this.show();const e=new MutationObserver(t=>{t.forEach(t=>{const r=Array.from(t.removedNodes),n=r.indexOf(this.node)>-1,s=r.some(e=>e.contains(this.node));(n||s)&&(this.hide(),e.disconnect())})});e.observe(document.body,{subtree:!0,childList:!0})}),this.node.addEventListener("mouseleave",()=>{this.hide()})}hide(){g.Tooltips.hide(this.id)}show(){const{left:e,top:t,width:r,height:n}=this.node.getBoundingClientRect();g.Tooltips.show(this.id,{position:this.side,text:this.label,color:this.style,targetWidth:r,targetHeight:n,x:e,y:t})}}class He{static get CSS(){return r(6)}static async success(e,t={}){return this.show(e,Object.assign(t,{type:"success"}))}static async info(e,t={}){return this.show(e,Object.assign(t,{type:"info"}))}static async warning(e,t={}){return this.show(e,Object.assign(t,{type:"warning"}))}static async error(e,t={}){return this.show(e,Object.assign(t,{type:"error"}))}static async default(e,t={}){return this.show(e,Object.assign(t,{type:"default"}))}static async show(e,t={}){const{type:r="",icon:n="",timeout:s=3e3}=t;this.ensureContainer();const i=Ve.parseHTML(this.buildToast(e,this.parseType(r),n));document.querySelector(".toasts").appendChild(i),await new Promise(e=>setTimeout(e,s)),i.classList.add("closing"),await new Promise(e=>setTimeout(e,300)),i.remove(),document.querySelectorAll(".toasts .toast").length||document.querySelector(".toasts").remove()}static buildToast(e,t,r){const n=t||r,s=`toast ${n?"toast-has-icon":""} ${t&&"default"!=t?`toast-${t}`:""}`;return!r&&t&&(r=t),l.formatString('<div class="{{className}}">{{icon}}<div class="toast-text">{{message}}</div></div>',{className:s,icon:n?this.getIcon(r):"",message:e})}static getIcon(e){let t=`<img src="${e}" width="20" height="20" />`;switch(e){case"success":t=i.IconSuccess(20);break;case"warning":t=i.IconWarning(20);break;case"info":t=i.IconInfo(20);break;case"error":t=i.IconError(20)}return l.formatString('<div class="toast-icon">{{icon}}</div>',{icon:t})}static ensureContainer(){if(document.querySelector(".toasts"))return;let e=document.querySelector(".channels-3g2vYe + div, .channels-Ie2l6A + div"),t=e.querySelector(".membersWrap-2h-GB4"),r=e?e.querySelector("form"):null,n=e?e.getBoundingClientRect().left:310,s=t?t.getBoundingClientRect().left:0,i=s?s-e.getBoundingClientRect().left:e.offsetWidth,o=r?r.offsetHeight:80,a=document.createElement("div");a.classList.add("toasts"),a.style.setProperty("left",n+"px"),a.style.setProperty("width",i+"px"),a.style.setProperty("bottom",o+"px"),document.querySelector(".app").appendChild(a)}static parseType(e){return this.ToastTypes.hasOwnProperty(e)?this.ToastTypes[e]:""}static get ToastTypes(){return{default:"",error:"error",success:"success",warning:"warning",info:"info"}}}class Fe{static get ModalSizes(){return g.ConfirmationModal.Sizes}static showUserProfile(e){return g.UserProfileModal.open(e)}static showConfirmationModal(e,t,r={}){this.showModal(e,g.TextElement.default({color:g.TextElement.Colors.PRIMARY,children:[t]}),r)}static showAlertModal(e,t){g.ModalStack.push(function(r){return g.React.createElement(g.AlertModal,Object.assign({title:e,body:t},r))})}static showModal(e,t,r={}){const{danger:n=!1,confirmText:s="Okay",cancelText:i="Cancel",onConfirm:o=(()=>{}),onCancel:a=(()=>{}),size:c=this.ModalSizes.SMALL}=r;g.ModalStack.push(function(r){return g.React.createElement(g.ConfirmationModal,Object.assign({header:e,red:n,size:c,confirmText:s,cancelText:i,onConfirm:o,onCancel:a,children:Array.isArray(t)?t:[t]},r))})}static showChangelogModal(e,t,r,n){const s=[];for(let e=0;e<r.length;e++){const t=r[e],n=ue.Changelog[t.type]?ue.Changelog[t.type]:ue.Changelog.added,i=0==e?ue.Changelog.marginTop:"";s.push(Ve.parseHTML(`<h1 class="${n} ${i}">${t.title}</h1>`));const o=Ve.parseHTML("<ul></ul>");for(let e=0;e<t.items.length;e++){const r=Ve.parseHTML("<li></li>");t.items[e]instanceof Element?r.append(t.items[e]):r.append(Ve.parseHTML(t.items[e])),o.append(r)}s.push(o)}const i=function(){return g.React.createElement(g.FlexChild.Child,{grow:1,shrink:1},g.React.createElement(g.Titles.default,{tag:g.Titles.Tags.H4},e),g.React.createElement(g.TextElement.default,{size:g.TextElement.Sizes.SMALL,color:g.TextElement.Colors.PRIMARY,className:ue.Changelog.date.toString()},"Version "+t))},o=n?function(){return g.React.createElement(g.TextElement.default,{size:g.TextElement.Sizes.SMALL,color:g.TextElement.Colors.PRIMARY},We.wrapElement(s))}:null;g.ModalStack.push(function(e){return g.React.createElement(g.Changelog,Object.assign({className:ue.Changelog.container.toString(),selectable:!0,onScroll:e=>e,onClose:e=>e,renderHeader:i,renderFooter:o,children:[We.createWrappedElement(s)]},e))})}}class $e{static get CSS(){return r(5)}static checkForUpdate(e,t,r,n,s){let i="https://raw.githubusercontent.com/rauenzi/BetterDiscordAddons/master/Plugins/"+e+"/"+e+".plugin.js";r&&(i=r),"function"!=typeof n&&(n=this.defaultVersioner),"function"!=typeof s&&(s=this.defaultComparator),void 0===window.PluginUpdates&&(window.PluginUpdates={plugins:{},checkAll:function(){for(let e in this.plugins){let t=this.plugins[e];t.versioner||(t.versioner=$e.defaultVersioner),t.comparator||(t.comparator=$e.defaultComparator),$e.processUpdateCheck(t.name,t.raw)}},interval:setInterval(()=>{window.PluginUpdates.checkAll()},72e5)},this.patchPluginList()),window.PluginUpdates.plugins[i]={name:e,raw:i,version:t,versioner:n,comparator:s},$e.processUpdateCheck(e,i)}static processUpdateCheck(e,t){r(0)(t,(r,n,s)=>{if(r)return;const i=window.PluginUpdates.plugins[t].versioner(s);window.PluginUpdates.plugins[t].comparator(window.PluginUpdates.plugins[t].version,i)?this.showUpdateNotice(e,t):this.removeUpdateNotice(e)})}static defaultVersioner(e){var t=e.match(/['"][0-9]+\.[0-9]+\.[0-9]+['"]/i);return t?t.toString().replace(/['"]/g,""):"0.0.0"}static defaultComparator(e,t){return e=e.split(".").map(e=>parseInt(e)),(t=t.split(".").map(e=>parseInt(e)))[0]>e[0]||(t[0]==e[0]&&t[1]>e[1]||t[0]==e[0]&&t[1]==e[1]&&t[2]>e[2])}static patchPluginList(){ce.after("ZeresLibrary",V2C_ContentColumn.prototype,"componentDidMount",e=>{if("pcolumn"!=e._reactInternalFiber.key)return;const t=DiscordModules.ReactDOM.findDOMNode(e);if(!t)return;const r=t.getElementsByClassName("bd-pfbtn")[0];r&&!r.nextElementSibling.classList.contains("bd-updatebtn")&&r.after($e.createUpdateButton())});const e=document.getElementsByClassName("bd-pfbtn")[0];e&&e.textContent.toLowerCase().includes("plugin")&&!e.nextElementSibling.classList.contains("bd-updatebtn")&&e.after($e.createUpdateButton())}static createUpdateButton(){const e=Ve.parseHTML('<button class="bd-pfbtn bd-updatebtn" style="left: 220px;">Check for Updates</button>');e.onclick=function(){window.PluginUpdates.checkAll()};let t=new _e(e,"Checks for updates of plugins that support this feature. Right-click for a list.");return e.oncontextmenu=function(){window.PluginUpdates&&window.PluginUpdates.plugins&&(t.label=Object.values(window.PluginUpdates.plugins).map(e=>e.name).join(", "),t.side="bottom",t.show(),e.onmouseout=function(){t.label="Checks for updates of plugins that support this feature. Right-click for a list.",t.side="top"})},e}static downloadPlugin(e,t){let n=r(0),s=r(3),i=r(2);n(t,async(r,n,o)=>{if(r)return d.warn("PluginUpdates","Unable to get update for "+e);const a=window.PluginUpdates.plugins[t].versioner(o);let c=t.split("/");c=c[c.length-1];const u=i.join(ae.getPluginsFolder(),c);await s.writeFile(u,o),He.success(`${e} ${window.PluginUpdates.plugins[t].version} has been replaced by ${e} ${a}`),this.removeUpdateNotice(e);let l=window.bdplugins["Restart-No-More"]&&window.pluginCookie["Restart-No-More"],g=window.bdplugins["Restart No More"]&&window.pluginCookie["Restart No More"];if(!l&&!g){if(!window.PluginUpdates.downloaded){window.PluginUpdates.downloaded=[];const e=Ve.parseHTML(`<button class="btn btn-reload ${ue.Notices.btn} ${ue.Notices.button}">Reload</button>`),t=new _e(e,window.PluginUpdates.downloaded.join(", "),{side:"top"});e.addEventListener("click",e=>{e.preventDefault(),window.location.reload(!1)}),e.addEventListener("mouseenter",()=>{t.label=window.PluginUpdates.downloaded.join(", ")}),document.getElementById("pluginNotice").append(e)}window.PluginUpdates.plugins[t].version=a,window.PluginUpdates.downloaded.push(e)}})}static showUpdateNotice(e,t){if(!document.getElementById("pluginNotice")){const e=Ve.parseHTML(`<div class="${ue.Notices.notice} ${ue.Notices.noticeInfo}" id="pluginNotice">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="${ue.Notices.dismiss}" id="pluginNoticeDismiss"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="notice-message">The following plugins have updates:</span>&nbsp;&nbsp;<strong id="outdatedPlugins"></strong>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>`);Ve.query(".app").prepend(e),e.querySelector("#pluginNoticeDismiss").addEventListener("click",async()=>{e.classList.add("closing"),await new Promise(e=>setTimeout(e,400)),e.remove()})}const r=e+"-notice";if(document.getElementById(r))return;const n=Ve.parseHTML(`<span id="${r}">${e}</span>`);n.addEventListener("click",()=>{this.downloadPlugin(e,t)}),document.getElementById("outdatedPlugins").querySelectorAll("span").length&&document.getElementById("outdatedPlugins").append("<span class='separator'>, </span>"),document.getElementById("outdatedPlugins").append(n)}static removeUpdateNotice(e){if(!document.getElementById("outdatedPlugins"))return;const t=document.getElementById(e+"-notice");t&&(t.nextElementSibling&&t.nextElementSibling.matches(".separator")?t.nextElementSibling.remove():t.previousElementSibling&&t.previousElementSibling.matches(".separator")&&t.previousElementSibling.remove(),t.remove()),document.getElementById("outdatedPlugins").querySelectorAll("span").length||(document.querySelector("#pluginNotice .btn-reload")?document.querySelector("#pluginNotice .notice-message").textContent="To finish updating you need to reload.":document.getElementById("pluginNoticeDismiss").click())}}class We{static getReactInstance(e){if(e instanceof jQuery||e instanceof Element){var t=e instanceof jQuery?e[0]:e;return t[Object.keys(t).find(e=>e.startsWith("__reactInternalInstance"))]}}static getReactProperty(e,t){return t.split(/\s?\.\s?/).reduce(function(e,t){return e&&e[t]},this.getReactInstance(e))}static getOwnerInstance(e,{include:t,exclude:r=["Popout","Tooltip","Scroller","BackgroundFlash"],filter:n=(e=>e)}={}){if(void 0===e)return;const s=void 0===t,i=s?r:t;function o(e){const t=function(e){const t=e.type;return t.displayName||t.name||null}(e);return null!==t&&!!(i.includes(t)^s)}for(let t=this.getReactInstance(e).return;!l.isNil(t);t=t.return){if(l.isNil(t))continue;let e=t.stateNode;if(!l.isNil(e)&&!(e instanceof HTMLElement)&&o(t)&&n(e))return e}return null}static createWrappedElement(e){return Array.isArray(e)&&(e=Ve.wrap(e)),g.React.createElement(this.wrapElement(e))}static wrapElement(e){return Array.isArray(e)&&(e=Ve.wrap(e)),class extends g.React.Component{constructor(t){super(t),this.element=e}componentDidMount(){this.refs.element.appendChild(this.element)}render(){return g.React.createElement("div",{className:"react-wrapper",ref:"element"})}}}}var ze=function(e){return class{constructor(){if(this._config=e,this._enabled=!1,void 0!==e.defaultConfig){this.defaultSettings={};for(let t=0;t<e.defaultConfig.length;t++){const r=e.defaultConfig[t];if("category"!=r.type)this.defaultSettings[r.id]=r.value;else{this.defaultSettings[r.id]={};for(let e=0;e<r.settings.length;e++){const t=r.settings[e];this.defaultSettings[r.id][t.id]=t.value}}}this._hasConfig=!0,this.settings={}}}getName(){return this._config.info.name.replace(" ","")}getDescription(){return this._config.info.description}getVersion(){return this._config.info.version}getAuthor(){return this._config.info.authors.map(e=>e.name).join(", ")}load(){}start(){d.info(this.getName(),`version ${this.getVersion()} has started.`),this.defaultSettings&&(this.settings=this.loadSettings());const e=ae.loadData(this.getName(),"currentVersionInfo",{version:this.getVersion(),hasShownChangelog:!1});e.version==this.getVersion()&&e.hasShownChangelog||(this.showChangelog(),ae.saveData(this.getName(),"currentVersionInfo",{version:this.getVersion(),hasShownChangelog:!0})),$e.checkForUpdate(this.getName(),this.getVersion(),this._config.info.github_raw),this._enabled=!0,"function"==typeof this.onStart&&this.onStart()}stop(){d.info(this.getName(),`version ${this.getVersion()} has stopped.`),this._enabled=!1,"function"==typeof this.onStop&&this.onStop()}get isEnabled(){return this._enabled}showSettingsModal(){"function"==typeof this.getSettingsPanel&&Fe.showModal(this.getName()+" Settings",We.createWrappedElement(this.getSettingsPanel()),{cancelText:"",confirmText:"Done",size:Fe.ModalSizes.MEDIUM})}showChangelog(e){void 0!==this._config.changelog&&Fe.showChangelogModal(this.getName()+" Changelog",this.getVersion(),this._config.changelog,e)}saveSettings(e){ae.saveSettings(this.getName(),this.settings?this.settings:e)}loadSettings(e){return ae.loadSettings(this.getName(),this.defaultSettings?this.defaultSettings:e)}buildSetting(e){const{name:t,note:r,type:n,value:s,onChange:i}=e;if("color"==n)return new Ce(t,r,s,i,{disabled:e.disabled,presetColors:e.presetColors});if("dropdown"==n)return new we(t,r,s,e.options,i);if("file"==n)return new Pe(t,r,i);if("keybind"==n)return new Ee(t,r,s,i);if("radio"==n)return new Ie(t,r,s,e.options,i,{disabled:e.disabled});if("slider"==n){const n={};return void 0!==e.markers&&(n.markers=e.markers),void 0!==e.stickToMarkers&&(n.stickToMarkers=e.stickToMarkers),new Se(t,r,e.min,e.max,s,i,n)}return"switch"==n?new ve(t,r,s,i,{disabled:e.disabled}):"textbox"==n?new be(t,r,s,i,{placeholder:e.placeholder||""}):void 0}buildSettingsPanel(){const e=this._config.defaultConfig,t=e=>{const{name:t,id:r,collapsible:n,shown:s,settings:i}=e;this.settings[r]={};const o=[];for(let e=0;e<i.length;e++){const t=i[e];this.settings[r][t.id]=t.value,t.onChange=(e=>{this.settings[r][t.id]=e}),o.push(this.buildSetting(t))}return new me(t,{shown:s,collapsible:n}).append(...o)},r=[];for(let n=0;n<e.length;n++){const s=e[n];"category"!=s.type?(this.settings[s.id]=s.value,s.onChange=(e=>{this.settings[s.id]=e}),r.push(this.buildSetting(s))):r.push(t(s))}return new ye(this.saveSettings.bind(this),...r)}}};class Ve{static get Selector(){return M}static get ClassName(){return C}static Q(e){const t=this.parseHTML(e);return(t instanceof NodeList?Array.from(t).some(e=>1===e.nodeType):1===t.nodeType)?t:this.query(e)}static query(e,t){return t||(t=document),t.querySelector(e)}static queryAll(e,t){return t||(t=document),t.querySelectorAll(e)}static parseHTML(e,t=!1){const r=document.createElement("template");r.innerHTML=e;const n=r.content.cloneNode(!0);return t?n:n.childNodes.length>1?n.childNodes:n.childNodes[0]}static createElement(e,t=!1){return this.parseHTML(e,t)}static addClass(e,...t){return e.classList.add(...t),e}static removeClass(e,...t){return e.classList.remove(...t),e}static toggleClass(e,t,r){return void 0!==r?e.classList.toggle(t,r):e.classList.toggle(t),e}static hasClass(e,t){return e.classList.contains(t)}static replaceClass(e,t,r){return e.classList.replace(t,r),e}static appendTo(e,t){return"string"==typeof t&&(t=this.query(t)),t.append(e),e}static insertAfter(e,t){return t.parentNode.insertBefore(e,t.nextSibling),e}static after(e,t){return e.parentNode.insertBefore(t,e.nextSibling),e}static next(e,t=""){return t?e.querySelector("+ "+t):e.nextElementSibling}static nextAll(e){return e.querySelectorAll("~ *")}static nextUntil(e,t){const r=[];for(;e.nextElementSibling&&!e.nextElementSibling.matches(t);)r.push(e=e.nextElementSibling);return r}static previous(e,t=""){const r=e.previousElementSibling;return t?r&&r.matches(t)?r:null:r}static previousAll(e){const t=[];for(;e.previousElementSibling;)t.push(e=e.previousElementSibling);return t}static previousUntil(e,t){for(var r=[];e.previousElementSibling&&!e.previousElementSibling.matches(t);)r.push(e=e.previousElementSibling);return r}static indexInParent(e){for(var t=e.parentNode.childNodes,r=0,n=0;n<t.length;n++){if(t[n]==e)return r;1==t[n].nodeType&&r++}return-1}static index(e){return this.indexInParent(e)}static parent(e,t=""){return!t||e.parentElement.matches(t)?e.parentElement:null}static findChild(e,t){return e.querySelector(":scope > "+t)}static findChildren(e,t){return e.querySelectorAll(":scope > "+t)}static parents(e,t=""){const r=[];if(t)for(;e.parentElement.closest(t);)r.push(e=e.parentElement.closest(t));else for(;e.parentElement;)r.push(e=e.parentElement);return r}static parentsUntil(e,t){const r=[];for(;e.parentElement&&!e.parentElement.matches(t);)r.push(e=e.parentElement);return r}static siblings(e,t="*"){return Array.from(e.parentElement.children).filter(r=>r!=e&&r.matches(t))}static css(e,t,r){return void 0===r?global.getComputedStyle(e).color:(e.style[t]=r,e)}static width(e,t){return void 0===t?parseInt(getComputedStyle(e).width):(e.style.width=t,e)}static height(e,t){return void 0===t?parseInt(getComputedStyle(e).height):(e.style.height=t,e)}static innerWidth(e){return e.clientWidth}static innerHeight(e){return e.clientHeight}static outerWidth(e){return e.offsetWidth}static outerHeight(e){return e.offsetHeight}static offset(e){return e.getBoundingClientRect()}static get listeners(){return global._listeners||(global._listeners={})}static on(e,t,r,n){const[s,i]=t.split("."),o=r&&n;n||(n=r);const a=o?function(e){e.target.matches(r)&&n(e)}:n;e.addEventListener(s,a);const c=()=>{e.removeEventListener(s,a)};if(i){this.listeners[i]||(this.listeners[i]=[]);const t=()=>{c(),this.listeners[i].splice(this.listeners[i].findIndex(t=>t.event==s&&t.element==e),1)};return this.listeners[i].push({event:s,element:e,cancel:t}),t}return c}static __offAll(e,t){const[r,n]=e.split(".");let s=e=>e.event==r,i=e=>e;t&&(s=(e=>e.event==r&&e.element==t),i=(e=>e.element==t));const o=this.listeners[n]||[],a=r?o.filter(s):o.filter(i);for(let e=0;e<a.length;e++)a[e].cancel()}static off(e,t,r,n){if("string"==typeof e)return this.__offAll(e);const[s,i]=t.split(".");if(i)return this.__offAll(t,e);const o=r&&n;n||(n=r);const a=o?function(e){e.target.matches(r)&&n(e)}:n;return e.removeEventListener(s,a),e}static onAdded(e,t){const r=new MutationObserver(n=>{for(let s=0;s<n.length;s++){const i=n[s],o=Array.from(i.addedNodes),a=o.indexOf(e)>-1,c=o.some(t=>t.contains(e));(a||c)&&(r.disconnect(),t())}});r.observe(document.body,{subtree:!0,childList:!0})}static onRemoved(e,t){const r=new MutationObserver(n=>{for(let s=0;s<n.length;s++){const i=n[s],o=Array.from(i.removedNodes),a=o.indexOf(e)>-1,c=o.some(t=>t.contains(e));(a||c)&&(r.disconnect(),t())}});r.observe(document.body,{subtree:!0,childList:!0})}static wrap(e){const t=this.parseHTML('<div class="dom-wrapper"></div>');for(let r=0;r<e.length;r++)t.appendChild(e[r]);return t}static resolveElement(e){if(e instanceof jQuery||e instanceof Element)return e instanceof jQuery?e[0]:e}}l.addToPrototype(HTMLElement,"addClass",function(...e){return Ve.addClass(this,...e)}),l.addToPrototype(HTMLElement,"removeClass",function(...e){return Ve.removeClass(this,...e)}),l.addToPrototype(HTMLElement,"toggleClass",function(e,t){return Ve.toggleClass(this,e,t)}),l.addToPrototype(HTMLElement,"replaceClass",function(e,t){return Ve.replaceClass(this,e,t)}),l.addToPrototype(HTMLElement,"hasClass",function(e){return Ve.hasClass(this,e)}),l.addToPrototype(HTMLElement,"insertAfter",function(e){return Ve.insertAfter(this,e)}),l.addToPrototype(HTMLElement,"after",function(e){return Ve.after(this,e)}),l.addToPrototype(HTMLElement,"next",function(e=""){return Ve.next(this,e)}),l.addToPrototype(HTMLElement,"nextAll",function(){return Ve.nextAll(this)}),l.addToPrototype(HTMLElement,"nextUntil",function(e){return Ve.nextUntil(this,e)}),l.addToPrototype(HTMLElement,"previous",function(e=""){return Ve.previous(this,e)}),l.addToPrototype(HTMLElement,"previousAll",function(){return Ve.previousAll(this)}),l.addToPrototype(HTMLElement,"previousUntil",function(e){return Ve.previousUntil(this,e)}),l.addToPrototype(HTMLElement,"index",function(){return Ve.index(this)}),l.addToPrototype(HTMLElement,"findChild",function(e){return Ve.findChild(this,e)}),l.addToPrototype(HTMLElement,"findChildren",function(e){return Ve.findChildren(this,e)}),l.addToPrototype(HTMLElement,"parent",function(e){return Ve.parent(this,e)}),l.addToPrototype(HTMLElement,"parents",function(e=""){return Ve.parents(this,e)}),l.addToPrototype(HTMLElement,"parentsUntil",function(e){return Ve.parentsUntil(this,e)}),l.addToPrototype(HTMLElement,"siblings",function(e="*"){return Ve.sublings(this,e)}),l.addToPrototype(HTMLElement,"css",function(e,t){return Ve.css(this,e,t)}),l.addToPrototype(HTMLElement,"width",function(e){return Ve.width(this,e)}),l.addToPrototype(HTMLElement,"height",function(e){return Ve.height(this,e)}),l.addToPrototype(HTMLElement,"innerWidth",function(){return Ve.innerWidth(this)}),l.addToPrototype(HTMLElement,"innerHeight",function(){return Ve.innerHeight(this)}),l.addToPrototype(HTMLElement,"outerWidth",function(){return Ve.outerWidth(this)}),l.addToPrototype(HTMLElement,"outerHeight",function(){return Ve.outerHeight(this)}),l.addToPrototype(HTMLElement,"offset",function(){return Ve.offset(this)}),l.addToPrototype(HTMLElement,"on",function(e,t,r){return Ve.on(this,e,t,r)}),l.addToPrototype(HTMLElement,"off",function(e,t,r){return Ve.off(this,e,t,r)}),l.addToPrototype(HTMLElement,"find",function(e){return Ve.query(e,this)}),l.addToPrototype(HTMLElement,"findAll",function(e){return Ve.queryAll(e,this)}),l.addToPrototype(HTMLElement,"appendTo",function(e){return Ve.appendTo(this,e)}),l.addToPrototype(HTMLElement,"onAdded",function(e){return Ve.hasClass(this,e)}),l.addToPrototype(HTMLElement,"onRemoved",function(e){return Ve.hasClass(this,e)});class qe{static get InsufficientPermissions(){return S}static get List(){return y}static get User(){return ne}static get Channel(){return R}static get Guild(){return te}static get Message(){return O}static get UserSettings(){return oe}static get guilds(){const e=g.GuildStore.getGuilds();return y.from(Object.values(e),e=>te.from(e))}static get channels(){const e=g.ChannelStore.getChannels();return y.from(Object.values(e),e=>R.from(e))}static get users(){const e=g.UserStore.getUsers();return y.from(Object.values(e),e=>ne.from(e))}static get memberCounts(){return g.MemberCountStore.getMemberCounts()}static get sortedGuilds(){const e=g.SortedGuildStore.getSortedGuilds();return y.from(e,e=>te.from(e))}static get guildPositions(){return g.SortedGuildStore.guildPositions}static get currentGuild(){const e=g.GuildStore.getGuild(g.SelectedGuildStore.getGuildId());if(e)return te.from(e)}static get currentChannel(){const e=g.ChannelStore.getChannel(g.SelectedChannelStore.getChannelId());if(e)return R.from(e)}static get currentUser(){const e=g.UserStore.getCurrentUser();if(e)return ne.from(e)}static get friends(){const e=g.RelationshipStore.getFriendIDs();return y.from(e,e=>ne.fromId(e))}}const Ke={};Ke.ContextMenu=s,Ke.Tooltip=_e,Ke.Toasts=He,Ke.Settings=n,Ke.Popouts=class{static showUserPopout(e,t,r={}){let{guild:n=g.SelectedGuildStore.getGuildId(),channel:s=g.SelectedChannelStore.getChannelId(),position:i="right"}=r;(e=Ve.resolveElement(e)).getBoundingClientRect().right+250>=b.width&&(i="left"),g.PopoutOpener.openPopout(e,{position:i,offsetX:0,offsetY:0,animationType:"default",preventInvert:!1,zIndexBoost:0,closeOnScroll:!1,shadow:!1,backdrop:!1,toggleClose:!0,render:e=>g.React.createElement(g.UserPopout,Object.assign({},e,{user:t,guildId:n,channelId:s}))},"ZeresLibrary")}},Ke.Modals=Fe;for(const e in a)Ke[e]=a[e];Ke.buildPlugin=function(e){const t=e.info.name,r={Logger:{log:e=>Ke.Logger.log(t,e),error:(e,r)=>Ke.Logger.err(t,e,r),err:(e,r)=>Ke.Logger.err(t,e,r),warn:e=>Ke.Logger.warn(t,e),info:e=>Ke.Logger.info(t,e),debug:e=>Ke.Logger.debug(t,e)},Patcher:{getPatchesByCaller:()=>Ke.Patcher.getPatchesByCaller(t),unpatchAll:()=>Ke.Patcher.unpatchAll(t),before:(e,r,n,s={})=>Ke.Patcher.before(t,e,r,n,s),instead:(e,r,n,s={})=>Ke.Patcher.instead(t,e,r,n,s),after:(e,r,n,s={})=>Ke.Patcher.after(t,e,r,n,s)}};return[Ke.Structs.Plugin(e),Object.assign({},Ke,r)]},document.getElementById("ZLibraryCSS")&&document.getElementById("ZLibraryCSS").remove(),document.head.append(Ke.DOMTools.createElement(`<style id="ZLibraryCSS">${n.CSS+He.CSS+Ke.PluginUpdater.CSS}</style>`));t.default=Ke},function(e,t){e.exports="#pluginNotice {\r\n    -webkit-app-region: drag;\r\n    border-radius: 0;\r\n    overflow: hidden;\r\n    height: 36px;\r\n    animation: open-updates 400ms ease;\r\n}\r\n\r\n@keyframes open-updates {\r\n    from { height: 0; }\r\n}\r\n\r\n#pluginNotice.closing {\r\n    transition: height 400ms ease;\r\n    height: 0;\r\n}\r\n\r\n#outdatedPlugins {\r\n    font-weight: 700;\r\n}\r\n\r\n#outdatedPlugins>span {\r\n    -webkit-app-region: no-drag;\r\n    color: #fff;\r\n    cursor: pointer;\r\n}\r\n\r\n#outdatedPlugins>span:hover {\r\n    text-decoration: underline;\r\n}"},function(e,t){e.exports=".toasts {\r\n    position: fixed;\r\n    display: flex;\r\n    top: 0;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: flex-end;\r\n    pointer-events: none;\r\n    z-index: 4000;\r\n}\r\n\r\n@keyframes toast-up {\r\n    from {\r\n        transform: translateY(0);\r\n        opacity: 0;\r\n    }\r\n}\r\n\r\n.toast {\r\n    animation: toast-up 300ms ease;\r\n    transform: translateY(-10px);\r\n    background: #36393F;\r\n    padding: 10px;\r\n    border-radius: 5px;\r\n    box-shadow: 0 0 0 1px rgba(32,34,37,.6), 0 2px 10px 0 rgba(0,0,0,.2);\r\n    font-weight: 500;\r\n    color: #fff;\r\n    user-select: text;\r\n    font-size: 14px;\r\n    opacity: 1;\r\n    margin-top: 10px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n\r\n@keyframes toast-down {\r\n    to {\r\n        transform: translateY(0px);\r\n        opacity: 0;\r\n    }\r\n}\r\n\r\n.toast.closing {\r\n    animation: toast-down 200ms ease;\r\n    animation-fill-mode: forwards;\r\n    opacity: 1;\r\n    transform: translateY(-10px);\r\n}\r\n\r\n.toast.toast-info {\r\n    background-color: #4a90e2;\r\n}\r\n\r\n.toast.toast-success {\r\n    background-color: #43b581;\r\n}\r\n\r\n.toast.toast-danger,\r\n.toast.toast-error {\r\n    background-color: #f04747;\r\n}\r\n\r\n.toast.toast-warning,\r\n.toast.toast-warn {\r\n    background-color: #FFA600;\r\n}\r\n\r\n.toast-icon {\r\n    margin-right: 5px;\r\n    fill: white;\r\n    border-radius: 50%;\r\n    overflow: hidden;\r\n    height: 20px;\r\n    width: 20px;\r\n}\r\n\r\n.toast-text {\r\n    line-height: 20px;\r\n}"},function(e,t){e.exports=".plugin-input-group {\r\n    margin-top: 5px;\r\n}\r\n\r\n.plugin-input-group .button-collapse {\r\n    background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOS4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iQ2FscXVlXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSItOTUwIDUzMiAxOCAxOCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAtOTUwIDUzMiAxOCAxODsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4NCgkuc3Qwe2ZpbGw6bm9uZTt9DQoJLnN0MXtmaWxsOm5vbmU7c3Ryb2tlOiNGRkZGRkY7c3Ryb2tlLXdpZHRoOjEuNTtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9DQo8L3N0eWxlPg0KPHBhdGggY2xhc3M9InN0MCIgZD0iTS05MzIsNTMydjE4aC0xOHYtMThILTkzMnoiLz4NCjxwb2x5bGluZSBjbGFzcz0ic3QxIiBwb2ludHM9Ii05MzYuNiw1MzguOCAtOTQxLDU0My4yIC05NDUuNCw1MzguOCAiLz4NCjwvc3ZnPg0K);\r\n    height: 16px;\r\n    width: 16px;\r\n    display: inline-block;\r\n    vertical-align: bottom;\r\n    transition: transform .3s ease;\r\n    transform: rotate(0);\r\n}\r\n\r\n.plugin-input-group .button-collapse.collapsed {\r\n    transition: transform .3s ease;\r\n    transform: rotate(-90deg);\r\n}\r\n\r\n.plugin-input-group h2 {\r\n    font-size: 14px;\r\n}\r\n\r\n.plugin-input-group .plugin-input-group h2 {\r\n    margin-left: 16px;\r\n}\r\n\r\n.plugin-inputs {\r\n    height: auto;\r\n    overflow: hidden;\r\n    transition: height 300ms cubic-bezier(0.47, 0, 0.745, 0.715);\r\n}\r\n\r\n.plugin-inputs.collapsed {\r\n    height: 0px;\r\n}\r\n\r\n.file-input {\r\n\r\n}\r\n\r\n.file-input::-webkit-file-upload-button {\r\n\tcolor: white;\r\n\tbackground: #7289DA;\r\n\toutline: 0;\r\n\tborder: 0;\r\n\tpadding: 10px;\r\n\tvertical-align: top;\r\n\tmargin-top: -10px;\r\n\tmargin-left: -10px;\r\n\tborder-radius: 3px 0 0 3px;\r\n\tfont-size: 14px;\r\n    font-weight: 500;\r\n\tfont-family: Whitney,Helvetica Neue,Helvetica,Arial,sans-serif;\r\n\tcursor: pointer;\r\n}\r\n"},function(e,t){e.exports=require("process")}]).default;